!function(exports){"use strict";function interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function isValidCustomElementName(e){var t=reservedTagList.has(e),n=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(e);return!t&&n}function isConnected(e){var t=e.isConnected;if(void 0!==t)return t;for(var n=e;n&&!(n.__CE_isImportDocument||n instanceof Document);)n=n.parentNode||(window.ShadowRoot&&n instanceof ShadowRoot?n.host:void 0);return!(!n||!(n.__CE_isImportDocument||n instanceof Document))}function nextSiblingOrAncestorSibling(e,t){for(var n=t;n&&n!==e&&!n.nextSibling;)n=n.parentNode;return n&&n!==e?n.nextSibling:null}function nextNode(e,t){return t.firstChild?t.firstChild:nextSiblingOrAncestorSibling(e,t)}function walkDeepDescendantElements(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e;r;){if(r.nodeType===Node.ELEMENT_NODE){var o=r;t(o);var i=o.localName;if("link"===i&&"import"===o.getAttribute("rel")){var s=o.import;if(s instanceof Node&&!n.has(s)){n.add(s);for(var a=s.firstChild;a;a=a.nextSibling)walkDeepDescendantElements(a,t,n)}r=nextSiblingOrAncestorSibling(e,o);continue}if("template"===i){r=nextSiblingOrAncestorSibling(e,o);continue}var l=o.__CE_shadowRoot;if(l)for(var c=l.firstChild;c;c=c.nextSibling)walkDeepDescendantElements(c,t,n)}r=nextNode(e,r)}}function setPropertyUnchecked(e,t,n){e[t]=n}function PatchHTMLElement(e){window.HTMLElement=function(){function t(){var t=this.constructor,n=e.constructorToDefinition(t);if(!n)throw new Error("The custom element being constructed was not registered with `customElements`.");var r=n.constructionStack;if(0===r.length){var o=Native.Document_createElement.call(document,n.localName);return Object.setPrototypeOf(o,t.prototype),o.__CE_state=CustomElementState.custom,o.__CE_definition=n,e.patch(o),o}var i=r.length-1,s=r[i];if(s===AlreadyConstructedMarker$1)throw new Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return r[i]=AlreadyConstructedMarker$1,Object.setPrototypeOf(s,t.prototype),e.patch(s),s}return t.prototype=Native.HTMLElement.prototype,t}()}function PatchParentNode(e,t,n){t.prepend=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r.filter(function(e){return e instanceof Node&&isConnected(e)});n.prepend.apply(this,r);for(var s=0;s<i.length;s++)e.disconnectTree(i[s]);if(isConnected(this))for(var a=0;a<r.length;a++){var l=r[a];l instanceof Element&&e.connectTree(l)}},t.append=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r.filter(function(e){return e instanceof Node&&isConnected(e)});n.append.apply(this,r);for(var s=0;s<i.length;s++)e.disconnectTree(i[s]);if(isConnected(this))for(var a=0;a<r.length;a++){var l=r[a];l instanceof Element&&e.connectTree(l)}}}function PatchDocument(e){setPropertyUnchecked(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var n=e.localNameToDefinition(t);if(n)return new n.constructor}var r=Native.Document_createElement.call(this,t);return e.patch(r),r}),setPropertyUnchecked(Document.prototype,"importNode",function(t,n){var r=Native.Document_importNode.call(this,t,n);return this.__CE_hasRegistry?e.patchAndUpgradeTree(r):e.patchTree(r),r});setPropertyUnchecked(Document.prototype,"createElementNS",function(t,n){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var r=e.localNameToDefinition(n);if(r)return new r.constructor}var o=Native.Document_createElementNS.call(this,t,n);return e.patch(o),o}),PatchParentNode(e,Document.prototype,{prepend:Native.Document_prepend,append:Native.Document_append})}function PatchNode(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)return void n.set.call(this,t);var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(i>0&&isConnected(this)){r=new Array(i);for(var s=0;s<i;s++)r[s]=o[s]}}if(n.set.call(this,t),r)for(var a=0;a<r.length;a++)e.disconnectTree(r[a])}})}setPropertyUnchecked(Node.prototype,"insertBefore",function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes),o=Native.Node_insertBefore.call(this,t,n);if(isConnected(this))for(var i=0;i<r.length;i++)e.connectTree(r[i]);return o}var s=isConnected(t),a=Native.Node_insertBefore.call(this,t,n);return s&&e.disconnectTree(t),isConnected(this)&&e.connectTree(t),a}),setPropertyUnchecked(Node.prototype,"appendChild",function(t){if(t instanceof DocumentFragment){var n=Array.prototype.slice.apply(t.childNodes),r=Native.Node_appendChild.call(this,t);if(isConnected(this))for(var o=0;o<n.length;o++)e.connectTree(n[o]);return r}var i=isConnected(t),s=Native.Node_appendChild.call(this,t);return i&&e.disconnectTree(t),isConnected(this)&&e.connectTree(t),s}),setPropertyUnchecked(Node.prototype,"cloneNode",function(t){var n=Native.Node_cloneNode.call(this,t);return this.ownerDocument.__CE_hasRegistry?e.patchAndUpgradeTree(n):e.patchTree(n),n}),setPropertyUnchecked(Node.prototype,"removeChild",function(t){var n=isConnected(t),r=Native.Node_removeChild.call(this,t);return n&&e.disconnectTree(t),r}),setPropertyUnchecked(Node.prototype,"replaceChild",function(t,n){if(t instanceof DocumentFragment){var r=Array.prototype.slice.apply(t.childNodes),o=Native.Node_replaceChild.call(this,t,n);if(isConnected(this)){e.disconnectTree(n);for(var i=0;i<r.length;i++)e.connectTree(r[i])}return o}var s=isConnected(t),a=Native.Node_replaceChild.call(this,t,n),l=isConnected(this);return l&&e.disconnectTree(n),s&&e.disconnectTree(t),l&&e.connectTree(t),a}),Native.Node_textContent&&Native.Node_textContent.get?t(Node.prototype,Native.Node_textContent):e.addPatch(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++)e.push(this.childNodes[t].textContent);return e.join("")},set:function(e){for(;this.firstChild;)Native.Node_removeChild.call(this,this.firstChild);Native.Node_appendChild.call(this,document.createTextNode(e))}})})}function PatchChildNode(e,t,n){t.before=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r.filter(function(e){return e instanceof Node&&isConnected(e)});n.before.apply(this,r);for(var s=0;s<i.length;s++)e.disconnectTree(i[s]);if(isConnected(this))for(var a=0;a<r.length;a++){var l=r[a];l instanceof Element&&e.connectTree(l)}},t.after=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r.filter(function(e){return e instanceof Node&&isConnected(e)});n.after.apply(this,r);for(var s=0;s<i.length;s++)e.disconnectTree(i[s]);if(isConnected(this))for(var a=0;a<r.length;a++){var l=r[a];l instanceof Element&&e.connectTree(l)}},t.replaceWith=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r.filter(function(e){return e instanceof Node&&isConnected(e)}),s=isConnected(this);n.replaceWith.apply(this,r);for(var a=0;a<i.length;a++)e.disconnectTree(i[a]);if(s){e.disconnectTree(this);for(var l=0;l<r.length;l++){var c=r[l];c instanceof Element&&e.connectTree(c)}}},t.remove=function(){var t=isConnected(this);n.remove.call(this),t&&e.disconnectTree(this)}}function PatchElement(e){function t(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var r=this,o=isConnected(this),i=void 0;if(o&&(i=[],walkDeepDescendantElements(this,function(e){e!==r&&i.push(e)})),n.set.call(this,t),i)for(var s=0;s<i.length;s++){var a=i[s];a.__CE_state===CustomElementState.custom&&e.disconnectedCallback(a)}return this.ownerDocument.__CE_hasRegistry?e.patchAndUpgradeTree(this):e.patchTree(this),t}})}function n(t,n){setPropertyUnchecked(t,"insertAdjacentElement",function(t,r){var o=isConnected(r),i=n.call(this,t,r);return o&&e.disconnectTree(r),isConnected(i)&&e.connectTree(r),i})}if(Native.Element_attachShadow?setPropertyUnchecked(Element.prototype,"attachShadow",function(e){var t=Native.Element_attachShadow.call(this,e);return this.__CE_shadowRoot=t,t}):console.warn("Custom Elements: `Element#attachShadow` was not patched."),Native.Element_innerHTML&&Native.Element_innerHTML.get)t(Element.prototype,Native.Element_innerHTML);else if(Native.HTMLElement_innerHTML&&Native.HTMLElement_innerHTML.get)t(HTMLElement.prototype,Native.HTMLElement_innerHTML);else{var r=Native.Document_createElement.call(document,"div");e.addPatch(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){return Native.Node_cloneNode.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName?this.content:this;for(r.innerHTML=e;t.childNodes.length>0;)Native.Node_removeChild.call(t,t.childNodes[0]);for(;r.childNodes.length>0;)Native.Node_appendChild.call(t,r.childNodes[0])}})})}setPropertyUnchecked(Element.prototype,"setAttribute",function(t,n){if(this.__CE_state!==CustomElementState.custom)return Native.Element_setAttribute.call(this,t,n);var r=Native.Element_getAttribute.call(this,t);Native.Element_setAttribute.call(this,t,n),n=Native.Element_getAttribute.call(this,t),r!==n&&e.attributeChangedCallback(this,t,r,n,null)}),setPropertyUnchecked(Element.prototype,"setAttributeNS",function(t,n,r){if(this.__CE_state!==CustomElementState.custom)return Native.Element_setAttributeNS.call(this,t,n,r);var o=Native.Element_getAttributeNS.call(this,t,n);Native.Element_setAttributeNS.call(this,t,n,r),r=Native.Element_getAttributeNS.call(this,t,n),o!==r&&e.attributeChangedCallback(this,n,o,r,t)}),setPropertyUnchecked(Element.prototype,"removeAttribute",function(t){if(this.__CE_state!==CustomElementState.custom)return Native.Element_removeAttribute.call(this,t);var n=Native.Element_getAttribute.call(this,t);Native.Element_removeAttribute.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)}),setPropertyUnchecked(Element.prototype,"removeAttributeNS",function(t,n){if(this.__CE_state!==CustomElementState.custom)return Native.Element_removeAttributeNS.call(this,t,n);var r=Native.Element_getAttributeNS.call(this,t,n);Native.Element_removeAttributeNS.call(this,t,n);var o=Native.Element_getAttributeNS.call(this,t,n);r!==o&&e.attributeChangedCallback(this,n,r,o,t)}),Native.HTMLElement_insertAdjacentElement?n(HTMLElement.prototype,Native.HTMLElement_insertAdjacentElement):Native.Element_insertAdjacentElement?n(Element.prototype,Native.Element_insertAdjacentElement):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),PatchParentNode(e,Element.prototype,{prepend:Native.Element_prepend,append:Native.Element_append}),PatchChildNode(e,Element.prototype,{before:Native.Element_before,after:Native.Element_after,replaceWith:Native.Element_replaceWith,remove:Native.Element_remove})}function isShadyRoot(e){return Boolean("ShadyRoot"===e.__localName)}function ownerShadyRootForNode(e){var t=e.getRootNode();if(isShadyRoot(t))return t}function matchesSelector(e,t){return matches.call(e,t)}function copyOwnProperty(e,t,n){var r=Object.getOwnPropertyDescriptor(t,e);r&&Object.defineProperty(n,e,r)}function extend(e,t){if(e&&t)for(var n,r=Object.getOwnPropertyNames(t),o=0;o<r.length&&(n=r[o]);o++)copyOwnProperty(n,t,e);return e||t}function extendAll(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++)extend(e,n[o]);return e}function mixin(e,t){for(var n in t)e[n]=t[n];return e}function patchPrototype(e,t){var n=Object.getPrototypeOf(e);if(!n.hasOwnProperty("__patchProto")){var r=Object.create(n);r.__sourceProto=n,extend(r,t),n.__patchProto=r}e.__proto__=n.__patchProto}function microtask(e){queue.push(e),twiddle.textContent=content++}function enqueue(e){scheduled||(scheduled=!0,microtask(flush)),flushList.push(e)}function flush(){scheduled=!1;for(var e=Boolean(flushList.length);flushList.length;)flushList.shift()();return e}function filterMutations(e,t){var n=t.getRootNode();return e.map(function(e){var t=n===e.target.getRootNode();if(t&&e.addedNodes){var r=Array.from(e.addedNodes).filter(function(e){return n===e.getRootNode()});if(r.length)return e=Object.create(e),Object.defineProperty(e,"addedNodes",{value:r,configurable:!0}),e}else if(t)return e}).filter(function(e){return e})}function escapeReplace(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case" ":return"&nbsp;"}}function escapeAttr(e){return e.replace(/[&\u00A0"]/g,escapeReplace)}function escapeData(e){return e.replace(/[&\u00A0<>]/g,escapeReplace)}function makeSet(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function getOuterHTML(e,t,n){switch(e.nodeType){case Node.ELEMENT_NODE:for(var r,o=e.localName,i="<"+o,s=e.attributes,a=0;r=s[a];a++)i+=" "+r.name+'="'+escapeAttr(r.value)+'"';return i+=">",voidElements[o]?i:i+getInnerHTML(e,n)+"</"+o+">";case Node.TEXT_NODE:var l=e.data;return t&&plaintextParents[t.localName]?l:escapeData(l);case Node.COMMENT_NODE:return"<!--"+e.data+"-->";default:throw window.console.error(e),new Error("not implemented")}}function getInnerHTML(e,t){"template"===e.localName&&(e=e.content);for(var n,r="",o=t?t(e):e.childNodes,i=0,s=o.length;i<s&&(n=o[i]);i++)r+=getOuterHTML(n,e,t);return r}function parentNode(e){return nodeWalker.currentNode=e,nodeWalker.parentNode()}function firstChild(e){return nodeWalker.currentNode=e,nodeWalker.firstChild()}function lastChild(e){return nodeWalker.currentNode=e,nodeWalker.lastChild()}function previousSibling(e){return nodeWalker.currentNode=e,nodeWalker.previousSibling()}function nextSibling(e){return nodeWalker.currentNode=e,nodeWalker.nextSibling()}function childNodes(e){var t=[];nodeWalker.currentNode=e;for(var n=nodeWalker.firstChild();n;)t.push(n),n=nodeWalker.nextSibling();return t.item=function(e){return t[e]},t}function parentElement(e){return elementWalker.currentNode=e,elementWalker.parentNode()}function firstElementChild(e){return elementWalker.currentNode=e,elementWalker.firstChild()}function lastElementChild(e){return elementWalker.currentNode=e,elementWalker.lastChild()}function previousElementSibling(e){return elementWalker.currentNode=e,elementWalker.previousSibling()}function nextElementSibling(e){return elementWalker.currentNode=e,elementWalker.nextSibling()}function children(e){var t=[];elementWalker.currentNode=e;for(var n=elementWalker.firstChild();n;)t.push(n),n=elementWalker.nextSibling();return t}function innerHTML(e){return getInnerHTML(e,function(e){return childNodes(e)})}function textContent(e){if(e.nodeType!==Node.ELEMENT_NODE)return e.nodeValue;for(var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),n="",r=void 0;r=t.nextNode();)n+=r.nodeValue;return n}function getProperty(e,t){return e.__shady&&e.__shady[t]}function hasProperty(e,t){return void 0!==getProperty(e,t)}function generateSimpleDescriptor(e){return{get:function(){var t=getProperty(this,e);return void 0!==t?t:nativeTree[e](this)},configurable:!0}}function clearNode(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function getDocumentActiveElement(){return nativeActiveElementDescriptor&&nativeActiveElementDescriptor.get?nativeActiveElementDescriptor.get.call(document):settings.hasDescriptors?void 0:document.activeElement}function activeElementForNode(e){var t=getDocumentActiveElement();if(!t||!t.nodeType)return null;var n=!!isShadyRoot(e);if(e!==document){if(!n)return null;if(e.host===t||!e.host.contains(t))return null}for(var r=ownerShadyRootForNode(t);r&&r!==e;)t=r.host,r=ownerShadyRootForNode(t);return e===document?r?null:t:r===e?t:null}function patchAccessorGroup(e,t,n){for(var r in t){var o=Object.getOwnPropertyDescriptor(e,r);o&&o.configurable||!o&&n?Object.defineProperty(e,r,t[r]):n&&console.warn("Could not define",r,"on",e)}}function patchAccessors(e){patchAccessorGroup(e,OutsideAccessors),patchAccessorGroup(e,InsideAccessors),patchAccessorGroup(e,ActiveElementAccessor)}function patchShadowRootAccessors(e){patchAccessorGroup(e,InsideAccessors,!0),patchAccessorGroup(e,ActiveElementAccessor,!0)}function recordInsertBefore(e,t,n){if(patchInsideElementAccessors(t),t.__shady=t.__shady||{},hasProperty(t,"firstChild")&&(t.__shady.childNodes=null),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){for(var r=e.childNodes,o=0;o<r.length;o++)linkNode(r[o],t,n);e.__shady=e.__shady||{};var i=hasProperty(e,"firstChild")?null:void 0;e.__shady.firstChild=e.__shady.lastChild=i,e.__shady.childNodes=i}else linkNode(e,t,n)}function linkNode(e,t,n){patchOutsideElementAccessors(e),n=n||null,e.__shady=e.__shady||{},t.__shady=t.__shady||{},n&&(n.__shady=n.__shady||{}),e.__shady.previousSibling=n?n.__shady.previousSibling:t.lastChild;var r=e.__shady.previousSibling;r&&r.__shady&&(r.__shady.nextSibling=e);var o=e.__shady.nextSibling=n;o&&o.__shady&&(o.__shady.previousSibling=e),e.__shady.parentNode=t,n?n===t.__shady.firstChild&&(t.__shady.firstChild=e):(t.__shady.lastChild=e,t.__shady.firstChild||(t.__shady.firstChild=e)),t.__shady.childNodes=null}function recordRemoveChild(e,t){e.__shady=e.__shady||{},t.__shady=t.__shady||{},e===t.__shady.firstChild&&(t.__shady.firstChild=e.__shady.nextSibling),e===t.__shady.lastChild&&(t.__shady.lastChild=e.__shady.previousSibling);var n=e.__shady.previousSibling,r=e.__shady.nextSibling;n&&(n.__shady=n.__shady||{},n.__shady.nextSibling=r),r&&(r.__shady=r.__shady||{},r.__shady.previousSibling=n),e.__shady.parentNode=e.__shady.previousSibling=e.__shady.nextSibling=void 0,hasProperty(t,"childNodes")&&(t.__shady.childNodes=null)}function addNode(e,t,n){var r=ownerShadyRootForNode(e),o=void 0;return r&&(t.__noInsertionPoint&&!r._changePending&&(r._skipUpdateInsertionPoints=!0),o=_maybeAddInsertionPoint(t,e,r),o&&(r._skipUpdateInsertionPoints=!1)),hasProperty(e,"firstChild")&&recordInsertBefore(t,e,n),_maybeDistribute(t,e,r,o)||e.shadyRoot}function removeNode(e){var t=hasProperty(e,"parentNode")&&getProperty(e,"parentNode"),n=void 0,r=ownerShadyRootForNode(e);if(t||r){n=maybeDistributeParent(e),t&&recordRemoveChild(e,t);var o=r&&_removeDistributedChildren(r,e),i=t&&r&&t.localName===r.getInsertionPointTag();(o||i)&&(r._skipUpdateInsertionPoints=!1,updateRootViaContentChange(r))}return _removeOwnerShadyRoot(e),n}function _scheduleObserver(e,t,n){var r=e.__shady&&e.__shady.observer;r&&(t&&r.addedNodes.push(t),n&&r.removedNodes.push(n),r.schedule())}function removeNodeFromParent(e,t){if(t)return _scheduleObserver(t,null,e),removeNode(e);e.parentNode&&removeChild.call(e.parentNode,e),_removeOwnerShadyRoot(e)}function _hasCachedOwnerRoot(e){return Boolean(void 0!==e.__ownerShadyRoot)}function getRootNode(e){if(e&&e.nodeType){var t=e.__ownerShadyRoot;if(void 0===t){if(isShadyRoot(e))t=e;else{var n=e.parentNode;t=n?getRootNode(n):e}document.documentElement.contains(e)&&(e.__ownerShadyRoot=t)}return t}}function _maybeDistribute(e,t,n,r){var o=n&&n.getInsertionPointTag()||"",i=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!e.__noInsertionPoint&&o&&e.querySelector(o),s=i&&i.parentNode.nodeType!==Node.DOCUMENT_FRAGMENT_NODE,a=i||e.localName===o;(a||t.localName===o||r)&&n&&updateRootViaContentChange(n);var l=_nodeNeedsDistribution(t);return l&&updateRootViaContentChange(t.shadyRoot),l||a&&!s}function _maybeAddInsertionPoint(e,t,n){var r=void 0,o=n.getInsertionPointTag();if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE||e.__noInsertionPoint)e.localName===o&&(recordChildNodes(t),recordChildNodes(e),r=!0);else for(var i,s,a,l=e.querySelectorAll(o),c=0;c<l.length&&(i=l[c]);c++)s=i.parentNode,s===e&&(s=t),a=_maybeAddInsertionPoint(i,s,n),r=r||a;return r}function _nodeNeedsDistribution(e){return e&&e.shadyRoot&&e.shadyRoot.hasInsertionPoint()}function _removeDistributedChildren(e,t){for(var n=void 0,r=e._insertionPoints,o=0;o<r.length;o++){var i=r[o];if(_contains(t,i))for(var s=i.assignedNodes({flatten:!0}),a=0;a<s.length;a++){n=!0;var l=s[a],c=parentNode(l);c&&removeChild.call(c,l)}}return n}function _contains(e,t){for(;t;){if(t==e)return!0;t=t.parentNode}}function _removeOwnerShadyRoot(e){if(_hasCachedOwnerRoot(e))for(var t,n=e.childNodes,r=0,o=n.length;r<o&&(t=n[r]);r++)_removeOwnerShadyRoot(t);e.__ownerShadyRoot=void 0}function firstComposedNode(e){for(var t,n=e.assignedNodes({flatten:!0}),r=getRootNode(e),o=0,i=n.length;o<i&&(t=n[o]);o++)if(r.isFinalDestination(e,t))return t}function maybeDistributeParent(e){var t=e.parentNode;if(_nodeNeedsDistribution(t))return updateRootViaContentChange(t.shadyRoot),!0}function updateRootViaContentChange(e){e._changePending=!0,e.update()}function distributeAttributeChange(e,t){if("slot"===t)maybeDistributeParent(e);else if("slot"===e.localName&&"name"===t){var n=ownerShadyRootForNode(e);n&&n.update()}}function query(e,t,n){var r=[];return _queryElements(e.childNodes,t,n,r),r}function _queryElements(e,t,n,r){for(var o,i=0,s=e.length;i<s&&(o=e[i]);i++)if(o.nodeType===Node.ELEMENT_NODE&&_queryElement(o,t,n,r))return!0}function _queryElement(e,t,n,r){var o=t(e);if(o&&r.push(e),n&&n(o))return o;_queryElements(e.childNodes,t,n,r)}function renderRootNode(e){var t=e.getRootNode();isShadyRoot(t)&&t.render()}function setAttribute$1(e,t,n){scopingShim||(scopingShim=window.ShadyCSS&&window.ShadyCSS.ScopingShim),scopingShim&&"class"===t&&e.ownerDocument===document?scopingShim.setElementClass(e,n):(setAttribute.call(e,t,n),distributeAttributeChange(e,t))}function removeAttribute$1(e,t){removeAttribute.call(e,t),distributeAttributeChange(e,t)}function insertBefore$1(e,t,n){if(n){var r=getProperty(n,"parentNode");if(void 0!==r&&r!==e)throw Error("The ref_node to be inserted before is not a child of this node")}if(t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){removeNodeFromParent(t,getProperty(t,"parentNode"))}if(!addNode(e,t,n)){if(n){var o=ownerShadyRootForNode(n);o&&(n=n.localName===o.getInsertionPointTag()?firstComposedNode(n):n)}var i=isShadyRoot(e)?e.host:e;n?insertBefore.call(i,t,n):appendChild.call(i,t)}return _scheduleObserver(e,t),t}function removeChild$1(e,t){if(t.parentNode!==e)throw Error("The node to be removed is not a child of this node: "+t);if(!removeNode(t)){var n=isShadyRoot(e)?e.host:e;n===parentNode(t)&&removeChild.call(n,t)}return _scheduleObserver(e,null,t),t}function cloneNode$1(e,t){if("template"==e.localName)return cloneNode.call(e,t);var n=cloneNode.call(e,!1);if(t)for(var r,o=e.childNodes,i=0;i<o.length;i++)r=o[i].cloneNode(!0),n.appendChild(r);return n}function importNode$1(e,t){if(e.ownerDocument!==document)return importNode.call(document,e,t);var n=importNode.call(document,e,!1);if(t)for(var r,o=e.childNodes,i=0;i<o.length;i++)r=importNode$1(o[i],!0),n.appendChild(r);return n}function pathComposer(e,t){for(var n=[],r=e,o=e===window?window:e.getRootNode();r;)n.push(r),r=r.assignedSlot?r.assignedSlot:r.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&r.host&&(t||r!==o)?r.host:r.parentNode;return n[n.length-1]===document&&n.push(window),n}function retarget(e,t){if(!isShadyRoot)return e;for(var n,r,o,i,s=pathComposer(e,!0),a=t,l=0;l<a.length;l++)if(n=a[l],o=n===window?window:n.getRootNode(),o!==r&&(i=s.indexOf(o),r=o),!isShadyRoot(o)||i>-1)return n}function mixinComposedFlag(e){var t=function(t,n){var r=new e(t,n);return r.__composed=n&&Boolean(n.composed),r};return mixin(t,e),t.prototype=e.prototype,t}function fireHandlers(e,t,n){var r=t.__handlers&&t.__handlers[e.type]&&t.__handlers[e.type][n];if(r)for(var o,i=0;o=r[i];i++)if(o.call(t,e),e.__immediatePropagationStopped)return}function retargetNonBubblingEvent(e){var t=e.composedPath(),n=void 0;Object.defineProperty(e,"currentTarget",{get:function(){return n},configurable:!0});for(var r=t.length-1;r>=0;r--)if(n=t[r],fireHandlers(e,n,"capture"),e.__propagationStopped)return;Object.defineProperty(e,"eventPhase",{value:Event.AT_TARGET});for(var o=void 0,i=0;i<t.length;i++)if(n=t[i],(0===i||n.shadowRoot&&n.shadowRoot===o)&&(fireHandlers(e,n,"bubble"),n!==window&&(o=n.getRootNode()),e.__propagationStopped))return}function addEventListener(e,t,n){if(t){var r=void 0,o=void 0,i=void 0;if("object"===(void 0===n?"undefined":_typeof(n))?(r=Boolean(n.capture),o=Boolean(n.once),i=Boolean(n.passive)):(r=Boolean(n),o=!1,i=!1),t.__eventWrappers){for(var s=0;s<t.__eventWrappers.length;s++)if(t.__eventWrappers[s].node===this&&t.__eventWrappers[s].type===e&&t.__eventWrappers[s].capture===r&&t.__eventWrappers[s].once===o&&t.__eventWrappers[s].passive===i)return}else t.__eventWrappers=[];var a=function(r){if(o&&this.removeEventListener(e,t,n),r.__target||patchEvent(r),r.composed||r.composedPath().indexOf(this)>-1)return r.eventPhase===Event.BUBBLING_PHASE&&r.target===r.relatedTarget?void r.stopImmediatePropagation():t.handleEvent?void t.handleEvent(r):t.call(this,r)};t.__eventWrappers.push({node:this,type:e,capture:r,once:o,passive:i,wrapperFn:a}),nonBubblingEventsToRetarget[e]?(this.__handlers=this.__handlers||{},this.__handlers[e]=this.__handlers[e]||{capture:[],bubble:[]},this.__handlers[e][r?"capture":"bubble"].push(a)):nativeAddEventListener.call(this,e,a,n)}}function removeEventListener(e,t,n){if(t){var r=void 0,o=void 0,i=void 0;"object"===(void 0===n?"undefined":_typeof(n))?(r=Boolean(n.capture),o=Boolean(n.once),i=Boolean(n.passive)):(r=Boolean(n),o=!1,i=!1);var s=void 0;if(t.__eventWrappers)for(var a=0;a<t.__eventWrappers.length;a++)if(t.__eventWrappers[a].node===this&&t.__eventWrappers[a].type===e&&t.__eventWrappers[a].capture===r&&t.__eventWrappers[a].once===o&&t.__eventWrappers[a].passive===i){s=t.__eventWrappers.splice(a,1)[0].wrapperFn,t.__eventWrappers.length||(t.__eventWrappers=void 0);break}if(nativeRemoveEventListener.call(this,e,s||t,n),s&&nonBubblingEventsToRetarget[e]&&this.__handlers&&this.__handlers[e]){var l=this.__handlers[e][r?"capture":"bubble"],c=l.indexOf(s);c>-1&&l.splice(c,1)}}}function activateFocusEventOverrides(){for(var e in nonBubblingEventsToRetarget)window.addEventListener(e,function(e){e.__target||(patchEvent(e),retargetNonBubblingEvent(e),e.stopImmediatePropagation())},!0)}function patchEvent(e){e.__target=e.target,e.__relatedTarget=e.relatedTarget,settings.hasDescriptors?patchPrototype(e,eventMixin):extend(e,eventMixin)}function patchEvents(){window.Event=PatchedEvent,window.CustomEvent=PatchedCustomEvent,window.MouseEvent=PatchedMouseEvent,activateFocusEventOverrides()}function newSplice(e,t,n){return{index:e,removed:t,addedCount:n}}function attachShadow(e,t){if(!e)throw"Must provide a host.";if(!t)throw"Not enough arguments.";return new ShadyRoot(ShadyRootConstructionToken,e)}function getAssignedSlot(e){return renderRootNode(e),getProperty(e,"assignedSlot")||null}function patchBuiltin(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i.value?e[o]=i.value:Object.defineProperty(e,o,i)}}function patchBuiltins(){if(patchBuiltin(window.Node.prototype,nodeMixin),patchBuiltin(window.Text.prototype,textMixin),patchBuiltin(window.DocumentFragment.prototype,fragmentMixin),patchBuiltin(window.Element.prototype,elementMixin),patchBuiltin(window.Document.prototype,documentMixin),window.HTMLSlotElement&&patchBuiltin(window.HTMLSlotElement.prototype,slotMixin),settings.hasDescriptors){patchAccessors(window.Node.prototype),patchAccessors(window.Text.prototype),patchAccessors(window.DocumentFragment.prototype),patchAccessors(window.Element.prototype);patchAccessors((window.customElements&&customElements.nativeHTMLElement||HTMLElement).prototype),patchAccessors(window.Document.prototype),window.HTMLSlotElement&&patchAccessors(window.HTMLSlotElement.prototype)}}function parse(e){return e=clean(e),parseCss(lex(e),e)}function clean(e){return e.replace(RX.comments,"").replace(RX.port,"")}function lex(e){for(var t={start:0,end:e.length},n=t,r=0,o=e.length;r<o;r++)if(e[r]===OPEN_BRACE){n.rules||(n.rules=[]);var i=n,s=i.rules[i.rules.length-1];n={start:r+1,parent:i,previous:s},i.rules.push(n)}else e[r]===CLOSE_BRACE&&(n.end=r+1,n=n.parent||t);return t}function parseCss(e,t){var n=t.substring(e.start,e.end-1);if(e.parsedCssText=e.cssText=n.trim(),e.parent){var r=e.previous?e.previous.end:e.parent.start;n=t.substring(r,e.start-1),n=_expandUnicodeEscapes(n),n=n.replace(RX.multipleSpaces," "),n=n.substring(n.lastIndexOf(";")+1);var o=e.parsedSelector=e.selector=n.trim();e.atRule=0===o.indexOf(AT_START),e.atRule?0===o.indexOf(MEDIA_START)?e.type=types.MEDIA_RULE:o.match(RX.keyframesRule)&&(e.type=types.KEYFRAMES_RULE,e.keyframesName=e.selector.split(RX.multipleSpaces).pop()):0===o.indexOf(VAR_START)?e.type=types.MIXIN_RULE:e.type=types.STYLE_RULE}var i=e.rules;if(i)for(var s,a=0,l=i.length;a<l&&(s=i[a]);a++)parseCss(s,t);return e}function _expandUnicodeEscapes(e){return e.replace(/\\([0-9a-f]{1,6})\s/gi,function(){for(var e=arguments[1],t=6-e.length;t--;)e="0"+e;return"\\"+e})}function stringify(e,t,n){n=n||"";var r="";if(e.cssText||e.rules){var o=e.rules;if(o&&!_hasMixinRules(o))for(var i,s=0,a=o.length;s<a&&(i=o[s]);s++)r=stringify(i,t,r);else r=t?e.cssText:removeCustomProps(e.cssText),r=r.trim(),r&&(r="  "+r+"\n")}return r&&(e.selector&&(n+=e.selector+" "+OPEN_BRACE+"\n"),n+=r,e.selector&&(n+=CLOSE_BRACE+"\n\n")),n}function _hasMixinRules(e){return 0===e[0].selector.indexOf(VAR_START)}function removeCustomProps(e){return e=removeCustomPropAssignment(e),removeCustomPropApply(e)}function removeCustomPropAssignment(e){return e.replace(RX.customProp,"").replace(RX.mixinProp,"")}function removeCustomPropApply(e){return e.replace(RX.mixinApply,"").replace(RX.varApply,"")}function detectNativeApply(){var e=document.createElement("style");e.textContent=".foo { @apply --foo }",document.head.appendChild(e);var t=e.sheet.cssRules[0].cssText.indexOf("apply")>=0;return document.head.removeChild(e),t}function parseSettings(e){e&&(nativeCssVariables=nativeCssVariables&&!e.shimcssproperties,nativeShadow=nativeShadow&&!e.shimshadow)}function toCssText(e,t){return"string"==typeof e&&(e=parse(e)),t&&forEachRule(e,t),stringify(e,nativeCssVariables)}function rulesForStyle(e){return!e.__cssRules&&e.textContent&&(e.__cssRules=parse(e.textContent)),e.__cssRules}function isKeyframesSelector(e){return e.parent&&e.parent.type===types.KEYFRAMES_RULE}function forEachRule(e,t,n,r){if(e){var o=!1;if(r&&e.type===types.MEDIA_RULE){var i=e.selector.match(rx.MEDIA_MATCH);i&&(window.matchMedia(i[1]).matches||(o=!0))}e.type===types.STYLE_RULE?t(e):n&&e.type===types.KEYFRAMES_RULE?n(e):e.type===types.MIXIN_RULE&&(o=!0);var s=e.rules;if(s&&!o)for(var a,l=0,c=s.length;l<c&&(a=s[l]);l++)forEachRule(a,t,n,r)}}function applyCss(e,t,n,r){return applyStyle(createScopeStyle(e,t),n,r)}function applyStyle(e,t,n){t=t||document.head;var r=n&&n.nextSibling||t.firstChild;return lastHeadApplyNode=e,t.insertBefore(e,r)}function createScopeStyle(e,t){var n=document.createElement("style");return t&&n.setAttribute("scope",t),n.textContent=e,n}function findMatchingParen(e,t){for(var n=0,r=t,o=e.length;r<o;r++)if("("===e[r])n++;else if(")"===e[r]&&0===--n)return r;return-1}function processVariableAndFallback(e,t){var n=e.indexOf("var(");if(n===-1)return t(e,"","","");var r=findMatchingParen(e,n+3),o=e.substring(n+4,r),i=e.substring(0,n),s=processVariableAndFallback(e.substring(r+1),t),a=o.indexOf(",");return a===-1?t(i,o.trim(),"",s):t(i,o.substring(0,a).trim(),o.substring(a+1).trim(),s)}function setElementClassRaw(e,t){window.ShadyDOM?window.ShadyDOM.nativeMethods.setAttribute.call(e,"class",t):e.setAttribute("class",t)}function addToBitMask(e,t){var n=parseInt(e/32),r=1<<e%32;t[n]=(t[n]||0)|r}function enqueueDocumentValidation(){enqueued||(enqueued=!0,window.HTMLImports?window.HTMLImports.whenReady(validateDocument):"complete"===document.readyState?validateDocument():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&validateDocument()}))}function validateDocument(){requestAnimationFrame(function(){(enqueued||ShadyCSS$1._elementsHaveApplied)&&ShadyCSS$1.updateStyles(),enqueued=!1})}function getPropNamesAndSymbols(){
var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.getOwnPropertyNames(e);return isFunction(Object.getOwnPropertySymbols)?t.concat(Object.getOwnPropertySymbols(e)):t}function empty(e){return void 0===e||null===e}function create(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.unshift({},e),assign$2.apply(void 0,n)}}function enter(e,t){var n={};return Object.keys(t).forEach(function(r){n[r]=e[r],e[r]=t[r]}),n}function exit(e,t){assign$2(e,t)}function propContext(e,t){return function(n){return function(){var r=enter(e,t),o=n.apply(void 0,arguments);return exit(e,r),o}}}function applyEvent(e,t,n){var r=e.__events;r||(r=e.__events={}),void 0===r[t]&&e.addEventListener(t,function(e){r[t]&&r[t].call(this,e)}),r[t]="function"==typeof n?n:null}function resolveTagName(e){if(!e)return e;if(e.is)return e.is;if(e.prototype instanceof HTMLElement$1){if(e[$name])return e[$name];var t=new e;return t[$name]=t.localName}return e}function elementOpenStart(e){overrideArgs=[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null]}function elementOpenEnd(){var e=newElementOpen.apply(void 0,toConsumableArray(overrideArgs));return overrideArgs=null,e}function wrapIdomFunc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop;return function n(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];if(o[0]=resolveTagName(o[0]),stackCurrentHelper=null,"function"==typeof o[0])return stackCurrentHelper=o[0],t.apply(void 0,o);if(stackChren.length)stackChren[stackChren.length-1].push([n,o]);else{if(e===elementOpen){if(skips)return++skips;var s=e.apply(void 0,o);return s.__skip&&++skips,s}if(e===elementClose){if(1===skips&&skip(),skips&&--skips)return;var a=e.apply(void 0,o),l=a[$ref];return delete a[$ref],"function"==typeof l&&l(a),a}if(!skips||e===elementOpenStart||e===elementOpenEnd)return e.apply(void 0,o)}}}function newAttr(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];stackCurrentHelper?stackCurrentHelper.__props[t[0]]=t[1]:stackChren.length?stackChren[stackChren.length-1].push([newAttr,t]):(overrideArgs.push(t[0]),overrideArgs.push(t[1]))}function stackOpen(e,t,n){for(var r={key:t,statics:n},o=arguments.length,i=Array(o>3?o-3:0),s=3;s<o;s++)i[s-3]=arguments[s];for(var a=0;a<i.length;a+=2)r[i[a]]=i[a+1];e.__props=r,stackChren.push([])}function stackClose(e){var t=stackChren.pop(),n=e.__props;delete e.__props;var r=e(n,function(){return t.forEach(function(e){return e[0].apply(e,toConsumableArray(e[1]))})});return"function"==typeof r?r():r}function element(e,t){for(var n=void 0===t?"undefined":_typeof(t),r=arguments.length,o=Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return"function"!==n&&"string"!==n&&"number"!==n||o.unshift(t),null!==t&&"object"===n||(t={}),newElementOpenStart(e,t.key,t.statics),delete t.key,delete t.statics,Object.keys(t).forEach(function(e){return newAttr(e,t[e])}),newElementOpenEnd(e),o.forEach(function(e){var t=void 0===e?"undefined":_typeof(e);"function"===t?e():"string"===t||"number"===t?newText(e):Array.isArray(e)&&e.forEach(function(e){return e()})}),newElementClose(e)}function builder(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return element.bind.apply(element,[null].concat(t))}:t.map(function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return element.bind.apply(element,[null,e].concat(n))}})}function createSymbol(e){return"function"==typeof Symbol?Symbol(e):e}function data(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.__SKATE_DATA||(e.__SKATE_DATA={});return t&&(n[t]||(n[t]={}))||n}function microtaskDebounce(e){var t=!1,n=0,r=[],o=document.createElement("span");return new MutationObserver$1(function(){e.apply(void 0,toConsumableArray(r)),t=!1,r=null}).observe(o,{childList:!0}),function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];r=i,t||(t=!0,o.textContent=""+n,n+=1)}}function taskDebounce(e){var t=!1,n=[];return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];n=o,t||(t=!0,setTimeout(function(){t=!1,e.apply(void 0,toConsumableArray(n))},1))}}function getAttrMgr(e){var t=e.____skate_attributesMgr;return t||(t=new AttributesManager(e),e.____skate_attributesMgr=t),t}function getOwnPropertyDescriptors(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return getPropNamesAndSymbols(e).reduce(function(t,n){return t[n]=Object.getOwnPropertyDescriptor(e,n),t},{})}function dashCase(e){return e.split(/([A-Z])/).reduce(function(e,t,n){return""+e+(e&&n%2!==0?"-":"")+t.toLowerCase()})}function error(e){throw new Error(e)}function resolveAttrName(e,t){if(isSymbol(t))error(t.toString()+" symbol property cannot have an attribute.");else{if(e===!0)return dashCase(String(t));if(isString(e))return e}return null}function setCtorNativeProperty(e,t,n){Object.defineProperty(e,t,{configurable:!0,value:n})}function getPropsMap(e){if(!e.hasOwnProperty("____skate_ctor_propsMap")){var t=e.props||{};setCtorNativeProperty(e,"____skate_ctor_propsMap",getPropNamesAndSymbols(t).reduce(function(e,n){return e[n]=new PropDefinition(n,t[n]),e},{}))}return e.____skate_ctor_propsMap}function get$1(e){var t={};return getPropNamesAndSymbols(getPropsMap(e.constructor)).forEach(function(n){t[n]=e[n]}),t}function set$1(e,t){assign$2(e,t),e[$renderer]&&e[$renderer]()}function props(e,t){return isUndefined(t)?get$1(e):set$1(e,t)}function getDefaultValue(e,t){return"function"==typeof t.default?t.default(e,{name:t.nameOrSymbol}):t.default}function getInitialValue(e,t){return"function"==typeof t.initial?t.initial(e,{name:t.nameOrSymbol}):t.initial}function getPropData(e,t){var n=data(e,"props");return n[t]||(n[t]={})}function createNativePropertyDescriptor(e){var t=e.nameOrSymbol,n={configurable:!0,enumerable:!0};return n.beforeDefineProperty=function(n){var r=getPropData(n,t),o=e.attrSource;o&&(data(n,"attrSourceLinks")[o]=t);var i=n[t],s=!1;if(empty(i)&&(o&&n.hasAttribute(o)?(s=!0,i=e.deserialize(n.getAttribute(o))):i="initial"in e?getInitialValue(n,e):getDefaultValue(n,e)),i=e.coerce(i),r.internalValue=i,e.attrTarget&&!empty(i)&&(!s||e.attrTargetIsNotSource)){var a=e.serialize(i);getAttrMgr(n).setAttrValue(e.attrTarget,a)}},n.get=function(){var n=getPropData(this,t),r=n.internalValue;return e.get?e.get(this,{name:t,internalValue:r}):r},n.set=function(n){var r=getPropData(this,t),o=empty(n);if(o&&(n=getDefaultValue(this,e)),n=e.coerce(n),e.set){var i=r.oldValue;empty(i)&&(i=null);var s={name:t,newValue:n,oldValue:i};e.set(this,s)}if(this.____skate_rendererDebounced(this),r.internalValue=r.oldValue=n,e.attrTarget&&(e.attrTargetIsNotSource||!r.settingPropFromAttrSource)){var a=o?null:e.serialize(n);getAttrMgr(this).setAttrValue(e.attrTarget,a)}},n}function deprecated(e,t,n){if("production"!==process.env.NODE_ENV){var r=e.localName?e.localName:String(e);console.warn(r+" "+t+" is deprecated. Use "+n+".")}}function preventDoubleCalling(e,t,n,r){return t===e[_prevName]&&n===e[_prevOldValue]&&r===e[_prevNewValue]}function createNativePropertyDescriptors(e){var t=getPropsMap(e);return getPropNamesAndSymbols(t).reduce(function(e,n){return e[n]=createNativePropertyDescriptor(t[n]),e},{})}function createInitProps(e){var t=createNativePropertyDescriptors(e);return function(e){getPropNamesAndSymbols(t).forEach(function(n){var r=t[n];r.beforeDefineProperty(e);var o=n in e,i=o&&e[n];Object.defineProperty(e,n,r),o&&(e[n]=i)})}}function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant$1(e){return function(){return e}}function acos(e){return e>1?0:e<-1?pi$1:Math.acos(e)}function asin(e){return e>=1?halfPi:e<=-1?-halfPi:Math.asin(e)}function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function intersect(e,t,n,r,o,i,s,a){var l=n-e,c=r-t,u=s-o,h=a-i,d=(u*(t-i)-h*(e-o))/(h*l-u*c);return[e+d*l,t+d*c]}function cornerTangents(e,t,n,r,o,i,s){var a=e-n,l=t-r,c=(s?i:-i)/sqrt(a*a+l*l),u=c*l,h=-c*a,d=e+u,p=t+h,f=n+u,m=r+h,_=(d+f)/2,y=(p+m)/2,v=f-d,g=m-p,b=v*v+g*g,w=o-i,S=d*m-f*p,E=(g<0?-1:1)*sqrt(max(0,w*w*b-S*S)),C=(S*g-v*E)/b,x=(-S*v-g*E)/b,N=(S*g+v*E)/b,k=(-S*v+g*E)/b,T=C-_,A=x-y,$=N-_,P=k-y;return T*T+A*A>$*$+P*P&&(C=N,x=k),{cx:C,cy:x,x01:-u,y01:-h,x11:C*(o/w-1),y11:x*(o/w-1)}}function arc(){function e(){var e,c,u=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-halfPi,p=s.apply(this,arguments)-halfPi,f=abs(p-d),m=p>d;if(l||(l=e=path()),h<u&&(c=h,h=u,u=c),h>1e-12)if(f>tau$1-1e-12)l.moveTo(h*cos(d),h*sin(d)),l.arc(0,0,h,d,p,!m),u>1e-12&&(l.moveTo(u*cos(p),u*sin(p)),l.arc(0,0,u,p,d,m));else{var _,y,v=d,g=p,b=d,w=p,S=f,E=f,C=a.apply(this,arguments)/2,x=C>1e-12&&(o?+o.apply(this,arguments):sqrt(u*u+h*h)),N=min(abs(h-u)/2,+r.apply(this,arguments)),k=N,T=N;if(x>1e-12){var A=asin(x/u*sin(C)),$=asin(x/h*sin(C));(S-=2*A)>1e-12?(A*=m?1:-1,b+=A,w-=A):(S=0,b=w=(d+p)/2),(E-=2*$)>1e-12?($*=m?1:-1,v+=$,g-=$):(E=0,v=g=(d+p)/2)}var P=h*cos(v),O=h*sin(v),M=u*cos(w),R=u*sin(w);if(N>1e-12){var D=h*cos(g),I=h*sin(g),j=u*cos(b),L=u*sin(b);if(f<pi$1){var H=S>1e-12?intersect(P,O,j,L,D,I,M,R):[M,R],F=P-H[0],q=O-H[1],V=D-H[0],B=I-H[1],z=1/sin(acos((F*V+q*B)/(sqrt(F*F+q*q)*sqrt(V*V+B*B)))/2),K=sqrt(H[0]*H[0]+H[1]*H[1]);k=min(N,(u-K)/(z-1)),T=min(N,(h-K)/(z+1))}}E>1e-12?T>1e-12?(_=cornerTangents(j,L,P,O,h,T,m),y=cornerTangents(D,I,M,R,h,T,m),l.moveTo(_.cx+_.x01,_.cy+_.y01),T<N?l.arc(_.cx,_.cy,T,atan2(_.y01,_.x01),atan2(y.y01,y.x01),!m):(l.arc(_.cx,_.cy,T,atan2(_.y01,_.x01),atan2(_.y11,_.x11),!m),l.arc(0,0,h,atan2(_.cy+_.y11,_.cx+_.x11),atan2(y.cy+y.y11,y.cx+y.x11),!m),l.arc(y.cx,y.cy,T,atan2(y.y11,y.x11),atan2(y.y01,y.x01),!m))):(l.moveTo(P,O),l.arc(0,0,h,v,g,!m)):l.moveTo(P,O),u>1e-12&&S>1e-12?k>1e-12?(_=cornerTangents(M,R,D,I,u,-k,m),y=cornerTangents(P,O,j,L,u,-k,m),l.lineTo(_.cx+_.x01,_.cy+_.y01),k<N?l.arc(_.cx,_.cy,k,atan2(_.y01,_.x01),atan2(y.y01,y.x01),!m):(l.arc(_.cx,_.cy,k,atan2(_.y01,_.x01),atan2(_.y11,_.x11),!m),l.arc(0,0,u,atan2(_.cy+_.y11,_.cx+_.x11),atan2(y.cy+y.y11,y.cx+y.x11),m),l.arc(y.cx,y.cy,k,atan2(y.y11,y.x11),atan2(y.y01,y.x01),!m))):l.arc(0,0,u,w,b,m):l.lineTo(M,R)}else l.moveTo(0,0);if(l.closePath(),e)return l=null,e+""||null}var t=arcInnerRadius,n=arcOuterRadius,r=constant$1(0),o=null,i=arcStartAngle,s=arcEndAngle,a=arcPadAngle,l=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-pi$1/2;return[cos(r)*e,sin(r)*e]},e.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:constant$1(+n),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:constant$1(+t),e):n},e.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:constant$1(+t),e):r},e.padRadius=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:constant$1(+t),e):o},e.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:constant$1(+t),e):i},e.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:constant$1(+t),e):s},e.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:constant$1(+t),e):a},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e}function descending(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function identity(e){return e}function pie(){function e(e){var a,l,c,u,h,d=e.length,p=0,f=new Array(d),m=new Array(d),_=+o.apply(this,arguments),y=Math.min(tau$1,Math.max(-tau$1,i.apply(this,arguments)-_)),v=Math.min(Math.abs(y)/d,s.apply(this,arguments)),g=v*(y<0?-1:1);for(a=0;a<d;++a)(h=m[f[a]=a]=+t(e[a],a,e))>0&&(p+=h);for(null!=n?f.sort(function(e,t){return n(m[e],m[t])}):null!=r&&f.sort(function(t,n){return r(e[t],e[n])}),a=0,c=p?(y-d*g)/p:0;a<d;++a,_=u)l=f[a],h=m[l],u=_+(h>0?h*c:0)+g,m[l]={data:e[l],index:a,value:h,startAngle:_,endAngle:u,padAngle:v};return m}var t=identity,n=descending,r=null,o=constant$1(0),i=constant$1(tau$1),s=constant$1(0);return e.value=function(n){return arguments.length?(t="function"==typeof n?n:constant$1(+n),e):t},e.sortValues=function(t){return arguments.length?(n=t,r=null,e):n},e.sort=function(t){return arguments.length?(r=t,n=null,e):r},e.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:constant$1(+t),e):o},e.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:constant$1(+t),e):i},e.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:constant$1(+t),e):s},e}function noop$1(){}function _point(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Basis(e){this._context=e}function Bundle(e,t){this._basis=new Basis(e),this._beta=t}function _point$1(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Cardinal(e,t){this._context=e,this._k=(1-t)/6}function CardinalClosed(e,t){this._context=e,this._k=(1-t)/6}function CardinalOpen(e,t){this._context=e,this._k=(1-t)/6}function _point$2(e,t,n){var r=e._x1,o=e._y1,i=e._x2,s=e._y2;if(e._l01_a>1e-12){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,o=(o*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,o,i,s,e._x2,e._y2)}function CatmullRom(e,t){this._context=e,this._alpha=t}function CatmullRomClosed(e,t){this._context=e,this._alpha=t}function CatmullRomOpen(e,t){this._context=e,this._alpha=t}function sign$2(e){return e<0?-1:1}function slope3(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),s=(n-e._y1)/(o||r<0&&-0),a=(i*o+s*r)/(r+o);return(sign$2(i)+sign$2(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(a))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function _point$3(e,t,n){var r=e._x0,o=e._y0,i=e._x1,s=e._y1,a=(i-r)/3;e._context.bezierCurveTo(r+a,o+a*t,i-a,s-a*n,i,s)}function MonotoneX(e){this._context=e}function MonotoneY(e){this._context=new ReflectContext(e)}function ReflectContext(e){this._context=e}function constant(e){return function(){return e}}function namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),namespaces.hasOwnProperty(t)?{space:namespaces[t],local:e}:e}function creatorInherit(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&t.documentElement.namespaceURI===xhtml?t.createElement(e):t.createElementNS(n,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var t=namespace(e);return(t.local?creatorFixed:creatorInherit)(t)}function filterContextListener(e,t,n){return e=contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function contextListener(e,t,n){return function(r){var o=event;event=r;try{e.call(this,this.__data__,t,n)}finally{event=o}}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function onAdd(e,t,n){var r=filterEvents.hasOwnProperty(e.type)?filterContextListener:contextListener;return function(o,i,s){var a,l=this.__on,c=r(t,i,s);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=t);this.addEventListener(e.type,c,n),a={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function selection_on(e,t,n){var r,o,i=parseTypenames(e+""),s=i.length;{if(!(arguments.length<2)){for(a=t?onAdd:onRemove,null==n&&(n=!1),r=0;r<s;++r)this.each(a(i[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value}}function none$2(){}function selector(e){return null==e?none$2:function(){return this.querySelector(e)}}function selection_select(e){"function"!=typeof e&&(e=selector(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s,a=t[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(i=a[u])&&(s=e.call(i,i.__data__,u,a))&&("__data__"in i&&(s.__data__=i.__data__),c[u]=s);return new Selection(r,this._parents)}function empty$1(){return[]}function selectorAll(e){return null==e?empty$1:function(){return this.querySelectorAll(e)}}function selection_selectAll(e){"function"!=typeof e&&(e=selectorAll(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s,a=t[i],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),o.push(s));return new Selection(r,o)}function selection_filter(e){"function"!=typeof e&&(e=matcher$1(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new Selection(r,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function constant$2(e){return function(){return e}}function bindIndex(e,t,n,r,o,i){for(var s,a=0,l=t.length,c=i.length;a<c;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new EnterNode(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function bindKey(e,t,n,r,o,i,s){var a,l,c,u={},h=t.length,d=i.length,p=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(p[a]=c="$"+s.call(l,l.__data__,a,t),c in u?o[a]=l:u[c]=l);for(a=0;a<d;++a)c="$"+s.call(e,i[a],a,i),(l=u[c])?(r[a]=l,l.__data__=i[a],u[c]=null):n[a]=new EnterNode(e,i[a]);for(a=0;a<h;++a)(l=t[a])&&u[p[a]]===l&&(o[a]=l)}function selection_data(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each(function(e){p[++c]=e}),p;var n=t?bindKey:bindIndex,r=this._parents,o=this._groups;"function"!=typeof e&&(e=constant$2(e));for(var i=o.length,s=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],h=o[c],d=h.length,p=e.call(u,u&&u.__data__,c,r),f=p.length,m=a[c]=new Array(f),_=s[c]=new Array(f);n(u,h,m,_,l[c]=new Array(d),p,t);for(var y,v,g=0,b=0;g<f;++g)if(y=m[g]){for(g>=b&&(b=g+1);!(v=_[b])&&++b<f;);y._next=v||null}}return s=new Selection(s,r),s._enter=a,s._exit=l,s}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_merge(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;a<r;++a)s[a]=t[a];return new Selection(s,this._parents)}function selection_order(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,s=o[i];--i>=0;)(r=o[i])&&(s&&s!==r.nextSibling&&s.parentNode.insertBefore(r,s),s=r);return this}function selection_sort(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ascending$1);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s,a=n[i],l=a.length,c=o[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new Selection(o,this._parents).order()}function ascending$1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function selection_node(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function selection_size(){var e=0;return this.each(function(){++e}),e}function selection_empty(){return!this.node()}function selection_each(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],s=0,a=i.length;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,t){return function(){this.setAttribute(e,t)}}function attrConstantNS(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function attrFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function attrFunctionNS(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function selection_attr(e,t){var n=namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?attrRemoveNS:attrRemove:"function"==typeof t?n.local?attrFunctionNS:attrFunction:n.local?attrConstantNS:attrConstant)(n,t))}function window$1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,t,n){return function(){this.style.setProperty(e,t,n)}}function styleFunction(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function selection_style(e,t,n){var r;return arguments.length>1?this.each((null==t?styleRemove:"function"==typeof t?styleFunction:styleConstant)(e,t,null==n?"":n)):window$1(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,t){return function(){this[e]=t}}function propertyFunction(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function selection_property(e,t){return arguments.length>1?this.each((null==t?propertyRemove:"function"==typeof t?propertyFunction:propertyConstant)(e,t)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}function classedAdd(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function classedRemove(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,t){var n=classArray(e+"");if(arguments.length<2){for(var r=classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?classedFunction:t?classedTrue:classedFalse)(n,t))}function textRemove(){this.textContent=""}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function selection_text(e){return arguments.length?this.each(null==e?textRemove:("function"==typeof e?textFunction:textConstant)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function selection_html(e){return arguments.length?this.each(null==e?htmlRemove:("function"==typeof e?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var t="function"==typeof e?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,t){var n="function"==typeof e?e:creator(e),r=null==t?constantNull:"function"==typeof t?t:selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function dispatchEvent(e,t,n){var r=window$1(e),o=r.CustomEvent;o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function dispatchConstant(e,t){return function(){return dispatchEvent(this,e,t)}}function dispatchFunction(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}function selection_dispatch(e,t){return this.each(("function"==typeof t?dispatchFunction:dispatchConstant)(e,t))}function Selection(e,t){this._groups=e,this._parents=t}function selection(){return new Selection([[document.documentElement]],root$1)}function select(e){return"string"==typeof e?new Selection([[document.querySelector(e)]],[document.documentElement]):new Selection([[e]],root$1)}function dispatch(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function parseTypenames$1(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function get$3(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function set$3(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=noop$2,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(e,t,n){var r=new Timer;return r.restart(e,t,n),r}function timerFlush(){now(),++frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),t=e-clockLast;t>1e3&&(clockSkew-=t,clockLast=e)}function nap(){for(var e,t,n=taskHead,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:taskHead=t);taskTail=e,sleep(r)}function sleep(e){if(!frame){timeout&&(timeout=clearTimeout(timeout));var t=e-clockNow;t>24?(e<1/0&&(timeout=setTimeout(wake,t)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clockNow,interval=setInterval(poke,1e3)),frame=1,setFrame(wake))}}function timeout$1(e,t,n){var r=new Timer;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r}function schedule(e,t,n,r,o,i){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};create$1(e,n,{name:t,index:r,group:o,on:emptyOn,tween:emptyTween,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function init(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>0)throw new Error("too late");return n}function set$2(e,t){var n=e.__transition;if(!n||!(n=n[t])||n.state>2)throw new Error("too late");return n}function get$2(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("too late");return n}function create$1(e,t,n){function r(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(r){var c,u,h,d;if(1!==n.state)return s();for(c in l)if(d=l[c],d.name===n.name){if(3===d.state)return timeout$1(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete l[c]):+c<t&&(d.state=6,d.timer.stop(),delete l[c])}if(timeout$1(function(){3===n.state&&(n.state=4,n.timer.restart(i,n.delay,n.time),i(r))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,a=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(a[++u]=d);a.length=u+1}}function i(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,i=a.length;++o<i;)a[o].call(null,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=6,n.timer.stop(),delete l[t];for(var r in l)return;delete e.__transition}var a,l=e.__transition;l[t]=n,n.timer=timer(r,0,n.time)}function interrupt(e,t){var n,r,o,i=e.__transition,s=!0;if(i){t=null==t?null:t+"";for(o in i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),r&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete i[o]):s=!1;s&&delete e.__transition}}function selection_interrupt(e){return this.each(function(){interrupt(this,e)})}function define$2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend$1(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Color(){}function color(e){var t;return e=(e+"").trim().toLowerCase(),(t=reHex3.exec(e))?(t=parseInt(t[1],16),new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=reHex6.exec(e))?rgbn(parseInt(t[1],16)):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rgb(e,t,n,r)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function colorRgb(e,t,n,r){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,n,null==r?1:r)}function Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(s=t===i?(n-r)/a+6*(n<r):n===i?(r-t)/a+2:(t-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new Hsl(s,a,l,e.opacity)}function colorHsl(e,t,n,r){return 1===arguments.length?hslConvert(e):new Hsl(e,t,n,null==r?1:r)}function Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hsl2rgb(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl){var t=e.h*deg2rad;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Rgb||(e=rgbConvert(e))
;var n=rgb2xyz(e.r),r=rgb2xyz(e.g),o=rgb2xyz(e.b),i=xyz2lab((.4124564*n+.3575761*r+.1804375*o)/.95047),s=xyz2lab((.2126729*n+.7151522*r+.072175*o)/1);return new Lab(116*s-16,500*(i-s),200*(s-xyz2lab((.0193339*n+.119192*r+.9503041*o)/1.08883)),e.opacity)}function lab(e,t,n,r){return 1===arguments.length?labConvert(e):new Lab(e,t,n,null==r?1:r)}function Lab(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function xyz2lab(e){return e>t1*t1*t1?Math.pow(e,1/3):e/(3*t1*t1)+4/29}function lab2xyz(e){return e>t1?e*e*e:3*t1*t1*(e-4/29)}function xyz2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);e instanceof Lab||(e=labConvert(e));var t=Math.atan2(e.b,e.a)*rad2deg;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function colorHcl(e,t,n,r){return 1===arguments.length?hclConvert(e):new Hcl(e,t,n,null==r?1:r)}function Hcl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function cubehelixConvert(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof Rgb||(e=rgbConvert(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=((B*C-D*A)*r+E*D*t-E*B*n)/-5.9615122912,i=r-o,s=(E*(n-o)-C*i)/D,a=Math.sqrt(s*s+i*i)/(E*o*(1-o)),l=a?Math.atan2(s,i)*rad2deg-120:NaN;return new Cubehelix(l<0?l+360:l,a,o,e.opacity)}function cubehelix(e,t,n,r){return 1===arguments.length?cubehelixConvert(e):new Cubehelix(e,t,n,null==r?1:r)}function Cubehelix(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function constant$3(e){return function(){return e}}function linear(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hue(e,t){var n=t-e;return n?linear(e,n>180||n<-180?n-360*Math.round(n/360):n):constant$3(isNaN(e)?t:e)}function gamma(e){return 1===(e=+e)?nogamma:function(t,n){return n-t?exponential(t,n,e):constant$3(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear(e,n):constant$3(isNaN(e)?t:e)}function array$1(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(r),s=new Array(r);for(n=0;n<o;++n)i[n]=value(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<o;++n)s[n]=i[n](e);return s}}function date(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}}function interpolateNumber(e,t){return e=+e,t-=e,function(n){return e+t*n}}function object$1(e,t){var n,r={},o={};null!==e&&"object"===(void 0===e?"undefined":_typeof(e))||(e={}),null!==t&&"object"===(void 0===t?"undefined":_typeof(t))||(t={});for(n in t)n in e?r[n]=value(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function interpolateString(e,t){var n,r,o,i=reA.lastIndex=reB.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=reA.exec(e))&&(r=reB.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:interpolateNumber(n,r)})),i=reB.lastIndex;return i<t.length&&(o=t.slice(i),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?one(l[0].x):zero(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function value(e,t){var n,r=void 0===t?"undefined":_typeof(t);return null==t||"boolean"===r?constant$3(t):("number"===r?interpolateNumber:"string"===r?(n=color(t))?(t=n,interpolateRgb):interpolateString:t instanceof color?interpolateRgb:t instanceof Date?date:Array.isArray(t)?array$1:isNaN(t)?object$1:interpolateNumber)(e,t)}function decompose(e,t,n,r,o,i){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*degrees,skewX:Math.atan(l)*degrees,scaleX:s,scaleY:a}}function parseCss$1(e){return"none"===e?identity$1:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=e,e=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),e=e.slice(7,-1).split(","),decompose(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function parseSvg(e){return null==e?identity$1:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),(e=svgNode.transform.baseVal.consolidate())?(e=e.matrix,decompose(e.a,e.b,e.c,e.d,e.e,e.f)):identity$1)}function interpolateTransform(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}function i(e,r,o,i,s,a){if(e!==o||r!==i){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:interpolateNumber(e,o)},{i:l-2,x:interpolateNumber(r,i)})}else(o||i)&&s.push("translate("+o+t+i+n)}function s(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:interpolateNumber(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}function a(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:interpolateNumber(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}function l(e,t,n,r,i,s){if(e!==n||t!==r){var a=i.push(o(i)+"scale(",null,",",null,")");s.push({i:a-4,x:interpolateNumber(e,n)},{i:a-2,x:interpolateNumber(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}return function(t,n){var r=[],o=[];return t=e(t),n=e(n),i(t.translateX,t.translateY,n.translateX,n.translateY,r,o),s(t.rotate,n.rotate,r,o),a(t.skewX,n.skewX,r,o),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,o),t=n=null,function(e){for(var t,n=-1,i=o.length;++n<i;)r[(t=o[n]).i]=t.x(e);return r.join("")}}}function cubehelix$1(e){return function t(n){function r(t,r){var o=e((t=cubehelix(t)).h,(r=cubehelix(r)).h),i=nogamma(t.s,r.s),s=nogamma(t.l,r.l),a=nogamma(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=s(Math.pow(e,n)),t.opacity=a(e),t+""}}return n=+n,r.gamma=t,r}(1)}function tweenRemove(e,t){var n,r;return function(){var o=set$2(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function tweenFunction(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=set$2(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}i.tween=o}}function transition_tween(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=get$2(this.node(),n).tween,i=0,s=o.length;i<s;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?tweenRemove:tweenFunction)(n,e,t))}function tweenValue(e,t,n){var r=e._id;return e.each(function(){var e=set$2(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return get$2(e,r).value[t]}}function interpolate(e,t){var n;return("number"==typeof t?interpolateNumber:t instanceof color?interpolateRgb:(n=color(t))?(t=n,interpolateRgb):interpolateString)(e,t)}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,t,n){var r,o;return function(){var i=this.getAttribute(e);return i===n?null:i===r?o:o=t(r=i,n)}}function attrConstantNS$1(e,t,n){var r,o;return function(){var i=this.getAttributeNS(e.space,e.local);return i===n?null:i===r?o:o=t(r=i,n)}}function attrFunction$1(e,t,n){var r,o,i;return function(){var s,a=n(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e),s===a?null:s===r&&a===o?i:i=t(r=s,o=a))}}function attrFunctionNS$1(e,t,n){var r,o,i;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),s===a?null:s===r&&a===o?i:i=t(r=s,o=a))}}function transition_attr(e,t){var n=namespace(e),r="transform"===n?interpolateTransformSvg:interpolate;return this.attrTween(e,"function"==typeof t?(n.local?attrFunctionNS$1:attrFunction$1)(n,r,tweenValue(this,"attr."+e,t)):null==t?(n.local?attrRemoveNS$1:attrRemove$1)(n):(n.local?attrConstantNS$1:attrConstant$1)(n,r,t))}function attrTweenNS(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttributeNS(e.space,e.local,r(t))}}return n._value=t,n}function attrTween(e,t){function n(){var n=this,r=t.apply(n,arguments);return r&&function(t){n.setAttribute(e,r(t))}}return n._value=t,n}function transition_attrTween(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=namespace(e);return this.tween(n,(r.local?attrTweenNS:attrTween)(r,t))}function delayFunction(e,t){return function(){init(this,e).delay=+t.apply(this,arguments)}}function delayConstant(e,t){return t=+t,function(){init(this,e).delay=t}}function transition_delay(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?delayFunction:delayConstant)(t,e)):get$2(this.node(),t).delay}function durationFunction(e,t){return function(){set$2(this,e).duration=+t.apply(this,arguments)}}function durationConstant(e,t){return t=+t,function(){set$2(this,e).duration=t}}function transition_duration(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?durationFunction:durationConstant)(t,e)):get$2(this.node(),t).duration}function easeConstant(e,t){if("function"!=typeof t)throw new Error;return function(){set$2(this,e).ease=t}}function transition_ease(e){var t=this._id;return arguments.length?this.each(easeConstant(t,e)):get$2(this.node(),t).ease}function transition_filter(e){"function"!=typeof e&&(e=matcher$1(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new Transition(r,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var l,c=t[a],u=n[a],h=c.length,d=s[a]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;a<r;++a)s[a]=t[a];return new Transition(s,this._parents,this._name,this._id)}function start$1(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}function onFunction(e,t,n){var r,o,i=start$1(t)?init:set$2;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function transition_on(e,t){var n=this._id;return arguments.length<2?get$2(this.node(),n).on.on(e):this.each(onFunction(n,e,t))}function removeFunction(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=selector(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a,l,c=r[s],u=c.length,h=i[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=e.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,schedule(h[d],t,n,d,h,get$2(a,n)));return new Transition(i,this._parents,t,n)}function transition_selectAll(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=selectorAll(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=get$2(l,n),m=0,_=p.length;m<_;++m)(d=p[m])&&schedule(d,t,n,m,p,f);i.push(p),s.push(l)}return new Transition(i,s,t,n)}function transition_selection(){return new Selection$1(this._groups,this._parents)}function styleRemove$1(e,t){var n,r,o;return function(){var i=window$1(this).getComputedStyle(this,null),s=i.getPropertyValue(e),a=(this.style.removeProperty(e),i.getPropertyValue(e));return s===a?null:s===n&&a===r?o:o=t(n=s,r=a)}}function styleRemoveEnd(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,t,n){var r,o;return function(){var i=window$1(this).getComputedStyle(this,null).getPropertyValue(e);return i===n?null:i===r?o:o=t(r=i,n)}}function styleFunction$1(e,t,n){var r,o,i;return function(){var s=window$1(this).getComputedStyle(this,null),a=s.getPropertyValue(e),l=n(this);return null==l&&(this.style.removeProperty(e),l=s.getPropertyValue(e)),a===l?null:a===r&&l===o?i:i=t(r=a,o=l)}}function transition_style(e,t,n){var r="transform"==(e+="")?interpolateTransform$1:interpolate;return null==t?this.styleTween(e,styleRemove$1(e,r)).on("end.style."+e,styleRemoveEnd(e)):this.styleTween(e,"function"==typeof t?styleFunction$1(e,r,tweenValue(this,"style."+e,t)):styleConstant$1(e,r,t),n)}function styleTween(e,t,n){function r(){var r=this,o=t.apply(r,arguments);return o&&function(t){r.style.setProperty(e,o(t),n)}}return r._value=t,r}function transition_styleTween(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,styleTween(e,t,null==n?"":n))}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function transition_text(e){return this.tween("text","function"==typeof e?textFunction$1(tweenValue(this,"text",e)):textConstant$1(null==e?"":e+""))}function transition_transition(){for(var e=this._name,t=this._id,n=newId(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s,a=r[i],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=get$2(s,t);schedule(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Transition(r,this._parents,e,n)}function Transition(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function transition(e){return selection().transition(e)}function newId(){return++id}function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function inherit(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return defaultTiming.time=now(),defaultTiming;return n}function selection_transition(e){var t,n;e instanceof Transition?(t=e._id,e=e._name):(t=newId(),(n=defaultTiming).time=now(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s,a=r[i],l=a.length,c=0;c<l;++c)(s=a[c])&&schedule(s,e,t,c,a,n||inherit(s,t));return new Transition(r,this._parents,e,t)}function setupLilSynth(){var e=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext;if(!e)return console.error("AudioContext not supported");OscillatorNode.prototype.start||(OscillatorNode.prototype.start=OscillatorNode.prototype.noteOn),OscillatorNode.prototype.stop||(OscillatorNode.prototype.stop=OscillatorNode.prototype.noteOff),window[LILSYNTH]||(window[LILSYNTH]=new e)}function soundKey(e,t){var n=window[LILSYNTH];e.filter||(e.filter=n.createBiquadFilter(),e.filter.frequency.value=t,e.filter.type="bandpass");var r=n.currentTime;e.gain=n.createGain(),e.gain.gain.value=1e-6,e.gain.connect(n.destination),e.filter.connect(e.gain),e.oscillator&&e.oscillator.stop(r+.4),e.oscillator2&&e.oscillator2.stop(r+.4),e.oscillator=n.createOscillator(),e.oscillator2=n.createOscillator(),e.oscillator.type="sawtooth",e.oscillator.frequency.value=t/2,e.oscillator.connect(e.filter),e.oscillator2.frequency.value=t,e.oscillator2.connect(e.gain),e.gain.gain.setTargetAtTime(.05,r,.04),e.oscillator.start(r),e.oscillator2.start(r),e.oscillator.stop(r+40),e.oscillator2.stop(r+40)}function dampKey(e){var t=window[LILSYNTH];if(e.gain){e.gain.gain.setTargetAtTime(1e-6,t.currentTime,.05);var n=e.gain;setTimeout(function(){n.disconnect()},400)}e.oscillator&&e.oscillator.stop(t.currentTime+.4),e.oscillator2&&e.oscillator2.stop(t.currentTime+.4)}function setupKeyboard(){function e(e,t){var n=value(r[currentKeyPositions][e.index],h(e));return function(t){return r[currentKeyPositions][e.index]=n(t),r[currentKeyPositions][e.index]}}var t,n=this,r=this,o=(this.width-30)/(2*Math.sin(Math.min(this.sweep,Math.PI)/2)),i=2*o*Math.sin(this.sweep/2),s=o-this.depth,a=-this.sweep/2,l=this.sweep/2;t=this.sweep>Math.PI?o+Math.sqrt(Math.pow(o,2)-Math.pow(i/2,2)):o-Math.sqrt(Math.pow(o,2)-Math.pow(i/2,2))+this.depth*Math.cos(this.sweep/2),t+=15;var c=this[shadowSVG];c.attr("viewBox","0 0 "+this.width+" "+t);var u=c.select("g").attr("transform","translate("+this.width/2+","+(o+7.5)+")"),h=arc().cornerRadius(2).innerRadius(function(e){return e.raised?s+r.depth/(Math.tan(r.overlapping*Math.PI/2)+2):s}).outerRadius(function(e){return e.raised?o:o-r.depth/(Math.tan(r.overlapping*Math.PI/2)+2)});this[KEYS]=keyLayout().octaves(this.octaves).leftmostKey(this.leftmostKey).baseTone(this.baseTone).baseKey(this.baseKey).raisedPattern(this.raisedNotes).startAngle(a).endAngle(l).octaveSize(this.notesInOctave).pie(this.pie);var d=u.selectAll("path").data(this[KEYS],function(e){return e.index});d.filter(function(e){return!e.raised}),d.filter(function(e){return e.raised});d.exit().on(KEYPRESS,null).on(HOVEROVER,null).remove();var p=d.enter().append("path").classed("key",!0).classed("key--lower",function(e){return!e.raised}).classed("key--upper",function(e){return e.raised}).attr("d",function(e){var t=h(e);return r[currentKeyPositions][e.index]=t,t}).merge(d).attr("style",null),f=function(){p.classed("key--modulating",function(e){var t=e.raised&&!this.classList.contains("key--upper"),n=!e.raised&&!this.classList.contains("key--lower");!e.raised&&this.classList.contains("key--upper"),e.raised&&this.classList.contains("key--lower");return t||n})};f(),setTimeout(f,1e3),setTimeout(function(){p.classed("key--lower",function(e){return!e.raised}).classed("key--upper",function(e){return e.raised})},1),p.filter(function(e){return e.raised}).raise(),this[KEYBOARD]=p,p.classed("key--pressed",function(e){return n[pressedKeys].has(e.index)}).classed("key--highlight",function(e){return n[litKeys].has(e.index)||n[litNotes].has(e.note)}),this.transitionTime>0?(transition("morph"),d.transition("morph").attrTween("d",e).duration(this.transitionTime)):p.attr("d",function(e){var t=h(e);return r[currentKeyPositions][e.index]=t,t}),p.on(HOVEROVER,function(e){event.preventDefault();var t=new Event(KEYPRESS);t.index=e.index,n.dispatchEvent(t)},!0).on(HOVEROUT,function(e){event.preventDefault();var t=new Event(KEYRELEASE);t.index=e.index,n.dispatchEvent(t)},!0),p.on(KEYPRESS,function(e,t){r.synth&&soundKey(this,e.frequency)}).on(KEYRELEASE,function(e,t){r.synth&&dampKey(this)})}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},asyncGenerator=function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,o){var a={key:e,arg:t,resolve:n,reject:o,next:null};s?s=s.next=a:(i=s=a,r(e,t))})}function r(n,i){try{var s=t[n](i),a=s.value;a instanceof e?Promise.resolve(a.value).then(function(e){r("next",e)},function(e){r("throw",e)}):o(s.done?"return":"normal",s.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next,i?r(i.key,i.arg):s=null}var i,s;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var s=t[o](i),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}},classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),defineProperty=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},get=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(r)},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},isArguments=createCommonjsModule(function(e){var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"===(void 0===e?"undefined":_typeof(e))&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}}),isArguments$1=interopDefault(isArguments),require$$0$1=Object.freeze({default:isArguments$1}),index$6=createCommonjsModule(function(e){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Array.prototype.slice,o=interopDefault(require$$0$1),i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),a=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(e){var t=e.constructor;return t&&t.prototype===e},u={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!u["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"===_typeof(window[e]))try{c(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){if("undefined"==typeof window||!h)return c(e);try{return c(e)}catch(e){return!1}},p=function(e){var r=null!==e&&"object"===(void 0===e?"undefined":_typeof(e)),i="[object Function]"===n.call(e),c=o(e),u=r&&"[object String]"===n.call(e),h=[];if(!r&&!i&&!c)throw new TypeError("Object.keys called on a non-object");var p=a&&i;if(u&&e.length>0&&!t.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(c&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var _ in e)p&&"prototype"===_||!t.call(e,_)||h.push(String(_));if(s)for(var y=d(e),v=0;v<l.length;++v)y&&"constructor"===l[v]||!t.call(e,l[v])||h.push(l[v]);return h};p.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(o(t)?r.call(t):t)}}}else Object.keys=p;return Object.keys||p},e.exports=p}),index$7=interopDefault(index$6),require$$0=Object.freeze({default:index$7}),index$8=createCommonjsModule(function(e){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;e.exports=function(e,r,o){if("[object Function]"!==n.call(r))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var s=0;s<i;s++)r.call(o,e[s],s,e);else for(var a in e)t.call(e,a)&&r.call(o,e[a],a,e)}}),index$9=interopDefault(index$8),require$$0$2=Object.freeze({default:index$9}),index$4=createCommonjsModule(function(e){var t=interopDefault(require$$0),n=interopDefault(require$$0$2),r="function"==typeof Symbol&&"symbol"===_typeof(Symbol()),o=Object.prototype.toString,i=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},s=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}},a=Object.defineProperty&&s(),l=function(e,t,n,r){(!(t in e)||i(r)&&r())&&(a?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,o){var i=arguments.length>2?arguments[2]:{},s=t(o);r&&(s=s.concat(Object.getOwnPropertySymbols(o))),n(s,function(t){l(e,t,o[t],i[t])})};c.supportsDescriptors=!!a,e.exports=c}),index$5=interopDefault(index$4),require$$1=Object.freeze({default:index$5}),_isNaN=createCommonjsModule(function(e){e.exports=Number.isNaN||function(e){return e!==e}}),_isNaN$1=interopDefault(_isNaN),require$$5=Object.freeze({default:_isNaN$1}),_isFinite=createCommonjsModule(function(e){var t=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!t(e)&&e!==1/0&&e!==-(1/0)}}),_isFinite$1=interopDefault(_isFinite),require$$4=Object.freeze({default:_isFinite$1}),assign=createCommonjsModule(function(e){var t=Object.prototype.hasOwnProperty;e.exports=Object.assign||function(e,n){for(var r in n)t.call(n,r)&&(e[r]=n[r]);return e}}),assign$1=interopDefault(assign),require$$7$1=Object.freeze({default:assign$1}),sign=createCommonjsModule(function(e){e.exports=function(e){return e>=0?1:-1}}),sign$1=interopDefault(sign),require$$3=Object.freeze({default:sign$1}),mod=createCommonjsModule(function(e){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}}),mod$1=interopDefault(mod),require$$2=Object.freeze({default:mod$1}),isPrimitive=createCommonjsModule(function(e){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":_typeof(e))}}),isPrimitive$1=interopDefault(isPrimitive),require$$4$1=Object.freeze({default:isPrimitive$1}),isPrimitive$2=createCommonjsModule(function(e){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":_typeof(e))}}),isPrimitive$3=interopDefault(isPrimitive$2),require$$1$2=Object.freeze({default:isPrimitive$3}),index$10=createCommonjsModule(function(e){var t=Function.prototype.toString,n=/^\s*class /,r=function(e){try{var r=t.call(e),o=r.replace(/\/\/.*\n/g,""),i=o.replace(/\/\*[.\s\S]*\*\//g,""),s=i.replace(/\n/gm," ").replace(/ {2}/g," ");return n.test(s)}catch(e){return!1}},o=function(e){try{return!r(e)&&(t.call(e),!0)}catch(e){return!1}},i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!==(void 0===e?"undefined":_typeof(e)))return!1;if(s)return o(e);if(r(e))return!1;var t=i.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}}),index$11=interopDefault(index$10),require$$0$4=Object.freeze({default:index$11}),index$12=createCommonjsModule(function(e){var t=Date.prototype.getDay,n=function(e){try{return t.call(e),!0}catch(e){return!1}},r=Object.prototype.toString,o="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);e.exports=function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&null!==e&&(o?n(e):"[object Date]"===r.call(e))}}),index$13=interopDefault(index$12),require$$1$3=Object.freeze({default:index$13}),index$14=createCommonjsModule(function(e){var t=Object.prototype.toString;if("function"==typeof Symbol&&"symbol"===_typeof(Symbol())){var n=Symbol.prototype.toString,r=/^Symbol\(.*\)$/,o=function(e){return"symbol"===_typeof(e.valueOf())&&r.test(n.call(e))};e.exports=function(e){if("symbol"===(void 0===e?"undefined":_typeof(e)))return!0;if("[object Symbol]"!==t.call(e))return!1;try{return o(e)}catch(e){return!1}}}else e.exports=function(e){return!1}}),index$15=interopDefault(index$14),require$$0$5=Object.freeze({default:index$15}),es6$2=createCommonjsModule(function(e){var t="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator),n=interopDefault(require$$1$2),r=interopDefault(require$$0$4),o=interopDefault(require$$1$3),i=interopDefault(require$$0$5),s=function(e,t){if(void 0===e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var o,i,s,a="string"===t?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(o=e[a[s]],r(o)&&(i=o.call(e),n(i)))return i;throw new TypeError("No default value")},a=function(e,t){var n=e[t];if(null!==n&&void 0!==n){if(!r(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}};e.exports=function(e,r){if(n(e))return e;var l="default";arguments.length>1&&(r===String?l="string":r===Number&&(l="number"));var c;if(t&&(Symbol.toPrimitive?c=a(e,Symbol.toPrimitive):i(e)&&(c=Symbol.prototype.valueOf)),void 0!==c){var u=c.call(e,l);if(n(u))return u;throw new TypeError("unable to convert exotic object to primitive")}return"default"===l&&(o(e)||i(e))&&(l="string"),s(e,"default"===l?"number":l)}}),es6$3=interopDefault(es6$2),require$$3$1=Object.freeze({default:es6$3}),implementation$2=createCommonjsModule(function(e){var t=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,i=t.call(arguments,1),s=function(){if(this instanceof o){var n=r.apply(this,i.concat(t.call(arguments)));return Object(n)===n?n:this}return r.apply(e,i.concat(t.call(arguments)))},a=Math.max(0,r.length-i.length),l=[],c=0;c<a;c++)l.push("$"+c);if(o=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}}),implementation$3=interopDefault(implementation$2),require$$0$6=Object.freeze({default:implementation$3}),index$16=createCommonjsModule(function(e){var t=interopDefault(require$$0$6);e.exports=Function.prototype.bind||t}),index$17=interopDefault(index$16),require$$1$4=Object.freeze({default:index$17}),es5$2=createCommonjsModule(function(e){var t=Object.prototype.toString,n=interopDefault(require$$1$2),r=interopDefault(require$$0$4),o={"[[DefaultValue]]":function(e,o){var i=o||("[object Date]"===t.call(e)?String:Number);if(i===String||i===Number){var s,a,l=i===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<l.length;++a)if(r(e[l[a]])&&(s=e[l[a]](),n(s)))return s;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e,t){return n(e)?e:o["[[DefaultValue]]"](e,t)}}),es5$3=interopDefault(es5$2),require$$0$7=Object.freeze({default:es5$3}),es5=createCommonjsModule(function(e){var t=interopDefault(require$$5),n=interopDefault(require$$4),r=interopDefault(require$$3),o=interopDefault(require$$2),i=interopDefault(require$$0$4),s=interopDefault(require$$0$7),a={ToPrimitive:s,ToBoolean:function(e){return Boolean(e)},ToNumber:function(e){return Number(e)},ToInteger:function(e){var o=this.ToNumber(e);return t(o)?0:0!==o&&n(o)?r(o)*Math.floor(Math.abs(o)):o},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var i=this.ToNumber(e)
;return t(i)||0===i||!n(i)?0:o(r(i)*Math.floor(Math.abs(i)),65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:i,SameValue:function(e,n){return e===n?0!==e||1/e===1/n:t(e)&&t(n)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}};e.exports=a}),es5$1=interopDefault(es5),require$$1$5=Object.freeze({default:es5$1}),index$20=createCommonjsModule(function(e){var t=interopDefault(require$$1$4);e.exports=t.call(Function.call,Object.prototype.hasOwnProperty)}),index$21=interopDefault(index$20),require$$0$9=Object.freeze({default:index$21}),index$18=createCommonjsModule(function(e){var t=interopDefault(require$$0$9),n=RegExp.prototype.exec,r=Object.getOwnPropertyDescriptor,o=function(e){try{var t=e.lastIndex;return e.lastIndex=0,n.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}},i=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"===_typeof(Symbol.toStringTag);e.exports=function(e){if(!e||"object"!==(void 0===e?"undefined":_typeof(e)))return!1;if(!s)return"[object RegExp]"===i.call(e);var n=r(e,"lastIndex");return!(!n||!t(n,"value"))&&o(e)}}),index$19=interopDefault(index$18),require$$0$8=Object.freeze({default:index$19}),es6=createCommonjsModule(function(e){var t=Object.prototype.toString,n="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator),r=n?Symbol.prototype.toString:t,o=interopDefault(require$$5),i=interopDefault(require$$4),s=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,a=interopDefault(require$$7$1),l=interopDefault(require$$3),c=interopDefault(require$$2),u=interopDefault(require$$4$1),h=interopDefault(require$$3$1),d=parseInt,p=interopDefault(require$$1$4),f=p.call(Function.call,String.prototype.slice),m=p.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),_=p.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),y=["","​","￾"].join(""),v=new RegExp("["+y+"]","g"),g=p.call(Function.call,RegExp.prototype.test,v),b=p.call(Function.call,RegExp.prototype.test,/^[-+]0x[0-9a-f]+$/i),w=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),S=new RegExp("(^["+w+"]+)|(["+w+"]+$)","g"),E=p.call(Function.call,String.prototype.replace),C=function(e){return E(e,S,"")},x=interopDefault(require$$1$5),N=interopDefault(require$$0$8),k=a(a({},x),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new TypeError(e+" is not a function");return e.apply(t,n)},ToPrimitive:h,ToNumber:function(e){var t=u(e)?e:h(e,"number");if("symbol"===(void 0===t?"undefined":_typeof(t)))throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof t){if(m(t))return this.ToNumber(d(f(t,2),2));if(_(t))return this.ToNumber(d(f(t,2),8));if(g(t)||b(t))return NaN;var n=C(t);if(n!==t)return this.ToNumber(n)}return Number(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);return o(t)||0===t||!i(t)?0:c(l(t)*Math.floor(Math.abs(t)),256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(o(t)||t<=0)return 0;if(t>=255)return 255;var n=Math.floor(e);return n+.5<t?n+1:t<n+.5?n:n%2!==0?n+1:n},ToString:function(e){if("symbol"===(void 0===e?"undefined":_typeof(e)))throw new TypeError("Cannot convert a Symbol value to a string");return String(e)},ToObject:function(e){return this.RequireObjectCoercible(e),Object(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,String);return"symbol"===(void 0===t?"undefined":_typeof(t))?r.call(t):this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>s?s:t},CanonicalNumericIndexString:function(e){if("[object String]"!==t.call(e))throw new TypeError("must be a string");if("-0"===e)return-0;var n=this.ToNumber(e);return this.SameValue(this.ToString(n),e)?n:void 0},RequireObjectCoercible:x.CheckObjectCoercible,IsArray:Array.isArray||function(e){return"[object Array]"===t.call(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:function(e){return!Object.preventExtensions||!u(e)&&Object.isExtensible(e)},IsInteger:function(e){if("number"!=typeof e||o(e)||!i(e))return!1;var t=Math.abs(e);return Math.floor(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":_typeof(e))},IsRegExp:function(e){if(!e||"object"!==(void 0===e?"undefined":_typeof(e)))return!1;if(n){var t=e[Symbol.match];if(void 0!==t)return x.ToBoolean(t)}return N(e)},SameValueZero:function(e,t){return e===t||o(e)&&o(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new TypeError(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"===(void 0===e?"undefined":_typeof(e))?"Symbol":x.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");var r=e.constructor;if(void 0===r)return t;if("Object"!==this.Type(r))throw new TypeError("O.constructor is not an Object");var o=n&&Symbol.species?r[Symbol.species]:void 0;if(null==o)return t;if(this.IsConstructor(o))return o;throw new TypeError("no constructor found")}});delete k.CheckObjectCoercible,e.exports=k}),es6$1=interopDefault(es6),require$$1$1=Object.freeze({default:es6$1}),implementation=createCommonjsModule(function(e){var t=interopDefault(require$$1$1),n=interopDefault(require$$1).supportsDescriptors;e.exports=function(e){var r=n?Object.defineProperty:function(e,t,n){e[t]=n.value},o=this;if(null===e||void 0===e)throw new TypeError("`Array.from` requires an array-like object, not `null` or `undefined`");var i,s,a=t.ToObject(e);if(void 0!==arguments[1]){if(i=arguments[1],!t.IsCallable(i))throw new TypeError("When provided, the second argument to `Array.from` must be a function");arguments.length>2&&(s=arguments[2])}for(var l,c,u=t.ToLength(a.length),h=t.IsCallable(o)?t.ToObject(new o(u)):new Array(u),d=0;d<u;)l=a[d],c=i?void 0===s?i(l,d):t.Call(i,s,[l,d]):l,r(h,d,{configurable:!0,enumerable:!0,value:c,writable:!0}),d+=1;return h.length=u,h}}),implementation$1=interopDefault(implementation),require$$0$3=Object.freeze({default:implementation$1}),polyfill=createCommonjsModule(function(e){var t=interopDefault(require$$1$1),n=interopDefault(require$$0$3),r=function(e){try{return e(),!0}catch(e){return!1}};e.exports=function(){return t.IsCallable(Array.from)&&r(function(){Array.from({length:-(1/0)})})&&!r(function(){Array.from([],void 0)})?Array.from:n}}),polyfill$1=interopDefault(polyfill),require$$0$10=Object.freeze({default:polyfill$1}),shim=createCommonjsModule(function(e){var t=interopDefault(require$$1),n=interopDefault(require$$0$10);e.exports=function(){var e=n();return t(Array,{from:e},{from:function(){return Array.from!==e}}),e}}),shim$1=interopDefault(shim),require$$0$11=Object.freeze({default:shim$1}),index$2=createCommonjsModule(function(e){var t=interopDefault(require$$1),n=interopDefault(require$$0$3),r=interopDefault(require$$0$10),o=interopDefault(require$$0$11),i=function(e){return n.apply(this||Array,arguments)};t(i,{getPolyfill:r,implementation:n,shim:o}),e.exports=i}),index$3=interopDefault(index$2),require$$7=Object.freeze({default:index$3}),hasSymbols=createCommonjsModule(function(e){var t=interopDefault(require$$0);e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"===_typeof(Symbol.iterator))return!0;var e={},n=Symbol("test"),r=Object(n);if("string"==typeof n)return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;e[n]=42;for(n in e)return!1;if(0!==t(e).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==n)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,n);if(42!==i.value||i.enumerable!==!0)return!1}return!0}}),hasSymbols$1=interopDefault(hasSymbols),require$$0$13=Object.freeze({default:hasSymbols$1}),implementation$4=createCommonjsModule(function(e){var t=interopDefault(require$$0),n=interopDefault(require$$1$4),r=function(e){return void 0!==e&&null!==e},o=interopDefault(require$$0$13)(),i=Object,s=n.call(Function.call,Array.prototype.push),a=n.call(Function.call,Object.prototype.propertyIsEnumerable),l=o?Object.getOwnPropertySymbols:null;e.exports=function(e,n){if(!r(e))throw new TypeError("target must be an object");var c,u,h,d,p,f,m,_=i(e);for(c=1;c<arguments.length;++c){u=i(arguments[c]),d=t(u);var y=o&&(Object.getOwnPropertySymbols||l);if(y)for(p=y(u),h=0;h<p.length;++h)m=p[h],a(u,m)&&s(d,m);for(h=0;h<d.length;++h)m=d[h],f=u[m],a(u,m)&&(_[m]=f)}return _}}),implementation$5=interopDefault(implementation$4),require$$0$12=Object.freeze({default:implementation$5}),polyfill$2=createCommonjsModule(function(e){var t=interopDefault(require$$0$12),n=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var o=Object.assign({},n),i="";for(var s in o)i+=s;return e!==i},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1};e.exports=function(){return Object.assign?n()?t:r()?t:Object.assign:t}}),polyfill$3=interopDefault(polyfill$2),require$$0$14=Object.freeze({default:polyfill$3}),shim$2=createCommonjsModule(function(e){var t=interopDefault(require$$1),n=interopDefault(require$$0$14);e.exports=function(){var e=n();return t(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}}),shim$3=interopDefault(shim$2),require$$0$15=Object.freeze({default:shim$3}),index$22=createCommonjsModule(function(e){var t=interopDefault(require$$1),n=interopDefault(require$$0$12),r=interopDefault(require$$0$14),o=interopDefault(require$$0$15),i=r();t(i,{implementation:n,getPolyfill:r,shim:o}),e.exports=i}),index$23=interopDefault(index$22),require$$6=Object.freeze({default:index$23}),es6Promise=createCommonjsModule(function(e,t){!function(n,r){"object"===(void 0===t?"undefined":_typeof(t))&&void 0!==e?e.exports=r():"function"==typeof define&&define.amd?define(r):n.ES6Promise=r()}(commonjsGlobal,function(){function e(e){return"function"==typeof e||"object"===(void 0===e?"undefined":_typeof(e))&&null!==e}function t(e){return"function"==typeof e}function n(e){U=e}function r(e){G=e}function o(){return function(){return process.nextTick(c)}}function i(){return void 0!==K?function(){K(c)}:l()}function s(){var e=0,t=new Y(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function a(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<z;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}z=0}function u(){try{var e=require,t=e("vertx");return K=t.runOnLoop||t.runOnContext,i()}catch(e){return l()}}function h(e,t){var n=arguments,r=this,o=new this.constructor(p);void 0===o[te]&&O(o);var i=r._state;return i?function(){var e=n[i-1];G(function(){return A(i,o,e,r._result)})}():x(r,o,e,t),o}function d(e){var t=this;if(e&&"object"===(void 0===e?"undefined":_typeof(e))&&e.constructor===t)return e;var n=new t(p);return w(n,e),n}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function _(e){try{return e.then}catch(e){return ne.error=e,ne}}function y(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function v(e,t,n){G(function(e){var r=!1,o=y(n,t,function(n){r||(r=!0,t!==n?w(e,n):E(e,n))},function(t){r||(r=!0,C(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,C(e,o))},e)}function g(e,t){1===t._state?E(e,t._result):2===t._state?C(e,t._result):x(t,void 0,function(t){return w(e,t)},function(t){return C(e,t)})}function b(e,n,r){n.constructor===e.constructor&&r===h&&n.constructor.resolve===d?g(e,n):r===ne?C(e,ne.error):void 0===r?E(e,n):t(r)?v(e,n,r):E(e,n)}function w(t,n){t===n?C(t,f()):e(n)?b(t,n,_(n)):E(t,n)}function S(e){e._onerror&&e._onerror(e._result),N(e)}function E(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&G(N,e))}function C(e,t){void 0===e._state&&(e._state=2,e._result=t,G(S,e))}function x(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&G(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?A(n,r,o,i):o(i);e._subscribers.length=0}}function k(){this.error=null}function T(e,t){try{return e(t)}catch(e){return re.error=e,re}}function A(e,n,r,o){var i=t(r),s=void 0,a=void 0,l=void 0,c=void 0;if(i){if(s=T(r,o),s===re?(c=!0,a=s.error,s=null):l=!0,n===s)return void C(n,m())}else s=o,l=!0;void 0!==n._state||(i&&l?w(n,s):c?C(n,a):1===e?E(n,s):2===e&&C(n,s))}function $(e,t){try{t(function(t){w(e,t)},function(t){C(e,t)})}catch(t){C(e,t)}}function P(){return oe++}function O(e){e[te]=oe++,e._state=void 0,e._result=void 0,e._subscribers=[]}function M(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[te]||O(this.promise),B(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):C(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function D(e){return new M(this,e).promise}function I(e){var t=this;return new t(B(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function j(e){var t=this,n=new t(p);return C(n,e),n}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[te]=P(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&L(),this instanceof F?$(this,e):H())}function q(){var e=void 0;if(void 0!==commonjsGlobal)e=commonjsGlobal;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F}var V=void 0;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var B=V,z=0,K=void 0,U=void 0,G=function(e,t){Q[z]=e,Q[z+1]=t,z+=2,2===z&&(U?U(c):ee())},W="undefined"!=typeof window?window:void 0,X=W||{},Y=X.MutationObserver||X.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),ee=void 0;ee=Z?o():Y?s():J?a():void 0===W?u():l();var te=Math.random().toString(36).substring(16),ne=new k,re=new k,oe=0;return M.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;void 0===this._state&&n<e;n++)this._eachEntry(t[n],n)},M.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===d){var o=_(e);if(o===h&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var i=new n(p);b(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},M.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?C(r,n):this._result[t]=n),0===this._remaining&&E(r,this._result)},M.prototype._willSettleAt=function(e,t){var n=this;x(e,void 0,function(e){return n._settledAt(1,t,e)},function(e){return n._settledAt(2,t,e)})},F.all=D,F.race=I,F.resolve=d,F.reject=j,F._setScheduler=n,F._setAsap=r,F._asap=G,F.prototype={constructor:F,then:h,catch:function(e){return this.then(null,e)}},F.polyfill=q,F.Promise=F,F})}),es6Promise$1=interopDefault(es6Promise),require$$5$1=Object.freeze({default:es6Promise$1});window.customElements&&eval("/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements.\n *\n * ES5-style classes don't work with native Custom Elements because the\n * HTMLElement constructor uses the value of `new.target` to look up the custom\n * element definition for the currently called constructor. `new.target` is only\n * set when `new` is called and is only propagated via super() calls. super()\n * is not emulatable in ES5. The pattern of `SuperClass.call(this)`` only works\n * when extending other ES5-style classes, and does not propagate `new.target`.\n *\n * This shim allows the native HTMLElement constructor to work by generating and\n * registering a stand-in class instead of the users custom element class. This\n * stand-in class's constructor has an actual call to super().\n * `customElements.define()` and `customElements.get()` are both overridden to\n * hide this stand-in class from users.\n *\n * In order to create instance of the user-defined class, rather than the stand\n * in, the stand-in's constructor swizzles its instances prototype and invokes\n * the user-defined constructor. When the user-defined constructor is called\n * directly it creates an instance of the stand-in class to get a real extension\n * of HTMLElement and returns that.\n *\n * There are two important constructors: A patched HTMLElement constructor, and\n * the StandInElement constructor. They both will be called to create an element\n * but which is called first depends on whether the browser creates the element\n * or the user-defined constructor is called directly. The variables\n * `browserConstruction` and `userConstruction` control the flow between the\n * two constructors.\n *\n * This shim should be better than forcing the polyfill because:\n *   1. It's smaller\n *   2. All reaction timings are the same as native (mostly synchronous)\n *   3. All reaction triggering DOM operations are automatically supported\n *\n * There are some restrictions and requirements on ES5 constructors:\n *   1. All constructors in a inheritance hierarchy must be ES5-style, so that\n *      they can be called with Function.call(). This effectively means that the\n *      whole application must be compiled to ES5.\n *   2. Constructors must return the value of the emulated super() call. Like\n *      `return SuperClass.call(this)`\n *   3. The `this` reference should not be used before the emulated super() call\n *      just like `this` is illegal to use before super() in ES6.\n *   4. Constructors should not create other custom elements before the emulated\n *      super() call. This is the same restriction as with native custom\n *      elements.\n *\n *  Compiling valid class-based custom elements to ES5 will satisfy these\n *  requirements with the latest version of popular transpilers.\n */\n(() => {\n  'use strict';\n\n  // Do nothing if `customElements` does not exist.\n  if (!window.customElements) return;\n\n  const NativeHTMLElement = window.HTMLElement;\n  const nativeDefine = window.customElements.define;\n  const nativeGet = window.customElements.get;\n\n  /**\n   * Map of user-provided constructors to tag names.\n   *\n   * @type {Map<Function, string>}\n   */\n  const tagnameByConstructor = new Map();\n\n  /**\n   * Map of tag names to user-provided constructors.\n   *\n   * @type {Map<string, Function>}\n   */\n  const constructorByTagname = new Map();\n\n\n  /**\n   * Whether the constructors are being called by a browser process, ie parsing\n   * or createElement.\n   */\n  let browserConstruction = false;\n\n  /**\n   * Whether the constructors are being called by a user-space process, ie\n   * calling an element constructor.\n   */\n  let userConstruction = false;\n\n  window.HTMLElement = function() {\n    if (!browserConstruction) {\n      const tagname = tagnameByConstructor.get(this.constructor);\n      const fakeClass = nativeGet.call(window.customElements, tagname);\n\n      // Make sure that the fake constructor doesn't call back to this constructor\n      userConstruction = true;\n      const instance = new (fakeClass)();\n      return instance;\n    }\n    // Else do nothing. This will be reached by ES5-style classes doing\n    // HTMLElement.call() during initialization\n    browserConstruction = false;\n  };\n  // By setting the patched HTMLElement's prototype property to the native\n  // HTMLElement's prototype we make sure that:\n  //     document.createElement('a') instanceof HTMLElement\n  // works because instanceof uses HTMLElement.prototype, which is on the\n  // ptototype chain of built-in elements.\n  window.HTMLElement.prototype = NativeHTMLElement.prototype;\n\n  window.customElements.define = (tagname, elementClass) => {\n    const elementProto = elementClass.prototype;\n    const StandInElement = class extends NativeHTMLElement {\n      constructor() {\n        // Call the native HTMLElement constructor, this gives us the\n        // under-construction instance as `this`:\n        super();\n\n        // The prototype will be wrong up because the browser used our fake\n        // class, so fix it:\n        Object.setPrototypeOf(this, elementProto);\n\n        if (!userConstruction) {\n          // Make sure that user-defined constructor bottom's out to a do-nothing\n          // HTMLElement() call\n          browserConstruction = true;\n          // Call the user-defined constructor on our instance:\n          elementClass.call(this);\n        }\n        userConstruction = false;\n      }\n    };\n    const standInProto = StandInElement.prototype;\n    StandInElement.observedAttributes = elementClass.observedAttributes;\n    standInProto.connectedCallback = elementProto.connectedCallback;\n    standInProto.disconnectedCallback = elementProto.disconnectedCallback;\n    standInProto.attributeChangedCallback = elementProto.attributeChangedCallback;\n    standInProto.adoptedCallback = elementProto.adoptedCallback;\n\n    tagnameByConstructor.set(elementClass, tagname);\n    constructorByTagname.set(tagname, elementClass);\n    nativeDefine.call(window.customElements, tagname, StandInElement);\n  };\n\n  window.customElements.get = (tagname) => constructorByTagname.get(tagname);\n\n})();\n"),function(){var e="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&function(){var e=Document.prototype.importNode;Document.prototype.importNode=function(){var t=e.apply(this,arguments);if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var n=this.createDocumentFragment();return n.appendChild(t),n}return t}}();var t=Node.prototype.cloneNode,n=Document.prototype.createElement,r=Document.prototype.importNode,o=function(){if(!e){var t=document.createElement("template"),n=document.createElement("template");n.content.appendChild(document.createElement("div")),t.content.appendChild(n);var r=t.cloneNode(!0);return 0===r.content.childNodes.length||0===r.content.firstChild.content.childNodes.length||!(document.createDocumentFragment().cloneNode()instanceof DocumentFragment)}}(),i=function(){};if(e){var s=function(e){Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",t=this.content.firstChild;t;t=t.nextSibling)e+=t.outerHTML||l(t.data);return e},set:function(e){for(c.body.innerHTML=e,i.bootstrap(c);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;c.body.firstChild;)this.content.appendChild(c.body.firstChild)},configurable:!0})},a=function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}},l=function(e){return e.replace(f,a)},c=document.implementation.createHTMLDocument("template"),u=!0,h=document.createElement("style");h.textContent="template{display:none;}";var d=document.head;d.insertBefore(h,d.firstElementChild),i.prototype=Object.create(HTMLElement.prototype);var p=!document.createElement("div").hasOwnProperty("innerHTML");i.decorate=function(e){if(!e.content){e.content=c.createDocumentFragment();for(var t;t=e.firstChild;)e.content.appendChild(t);if(p)e.__proto__=i.prototype;else if(e.cloneNode=function(e){return i._cloneNode(this,e)},u)try{s(e)}catch(e){u=!1}i.bootstrap(e.content)}},s(i.prototype),i.bootstrap=function(e){for(var t,n=e.querySelectorAll("template"),r=0,o=n.length;r<o&&(t=n[r]);r++)i.decorate(t)},document.addEventListener("DOMContentLoaded",function(){i.bootstrap(document)}),Document.prototype.createElement=function(){var e=n.apply(this,arguments);return"template"===e.localName&&i.decorate(e),e};var f=/[&\u00A0<>]/g}(e||o)&&(i._cloneNode=function(e,n){var r=t.call(e,!1);return this.decorate&&this.decorate(r),n&&(r.content.appendChild(t.call(e.content,!0)),this.fixClonedDom(r.content,e.content)),r},i.prototype.cloneNode=function(e){return i._cloneNode(this,e)},i.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var n,r,o=t.querySelectorAll("template"),i=e.querySelectorAll("template"),s=0,a=i.length;s<a;s++)r=o[s],n=i[s],this.decorate&&this.decorate(r),n.parentNode.replaceChild(r.cloneNode(!0),n)},Node.prototype.cloneNode=function(e){var n;if(this instanceof DocumentFragment){if(!e)return this.ownerDocument.createDocumentFragment();n=this.ownerDocument.importNode(this,!0)}else n=t.call(this,e);return e&&i.fixClonedDom(n,this),n},Document.prototype.importNode=function(e,t){if("template"===e.localName)return i._cloneNode(e,t);var n=r.call(this,e,t);return t&&i.fixClonedDom(n,e),n},o&&(window.HTMLTemplateElement.prototype.cloneNode=function(e){return i._cloneNode(this,e)})),e&&(window.HTMLTemplateElement=i)}();var reservedTagList=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),CustomElementState={custom:1,failed:2},CustomElementInternals=function(){function e(){classCallCheck(this,e),this._localNameToDefinition=new Map,this._constructorToDefinition=new Map,this._patches=[],this._hasPatches=!1}return createClass(e,[{key:"setDefinition",value:function(e,t){this._localNameToDefinition.set(e,t),this._constructorToDefinition.set(t.constructor,t)}},{key:"localNameToDefinition",value:function(e){return this._localNameToDefinition.get(e)}},{key:"constructorToDefinition",value:function(e){return this._constructorToDefinition.get(e)}},{key:"addPatch",value:function(e){this._hasPatches=!0,this._patches.push(e)}},{key:"patchTree",value:function(e){var t=this;this._hasPatches&&walkDeepDescendantElements(e,function(e){return t.patch(e)})}},{key:"patch",value:function(e){if(this._hasPatches&&!e.__CE_patched){e.__CE_patched=!0;for(var t=0;t<this._patches.length;t++)this._patches[t](e)}}},{key:"connectTree",value:function(e){var t=[];walkDeepDescendantElements(e,function(e){return t.push(e)});for(var n=0;n<t.length;n++){var r=t[n];r.__CE_state===CustomElementState.custom?this.connectedCallback(r):this.upgradeElement(r)}}},{key:"disconnectTree",value:function(e){var t=[];walkDeepDescendantElements(e,function(e){return t.push(e)});for(var n=0;n<t.length;n++){var r=t[n];r.__CE_state===CustomElementState.custom&&this.disconnectedCallback(r)}}},{key:"patchAndUpgradeTree",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,r=[];if(walkDeepDescendantElements(e,function(e){if("link"===e.localName&&"import"===e.getAttribute("rel")){var o=e.import;o instanceof Node&&"complete"===o.readyState?(o.__CE_isImportDocument=!0,o.__CE_hasRegistry=!0):e.addEventListener("load",function(){var r=e.import;if(!r.__CE_documentLoadHandled){r.__CE_documentLoadHandled=!0,r.__CE_isImportDocument=!0,r.__CE_hasRegistry=!0;new Set(n);n.delete(r),t.patchAndUpgradeTree(r,n)}})}else r.push(e)},n),this._hasPatches)for(var o=0;o<r.length;o++)this.patch(r[o]);for(var i=0;i<r.length;i++)this.upgradeElement(r[i])}},{key:"upgradeElement",value:function(e){if(void 0===e.__CE_state){var t=this.localNameToDefinition(e.localName);if(t){t.constructionStack.push(e);var n=t.constructor;try{try{if(new n!==e)throw new Error("The custom element constructor did not produce the element being upgraded.")}finally{t.constructionStack.pop()}}catch(t){throw e.__CE_state=CustomElementState.failed,t}if(e.__CE_state=CustomElementState.custom,e.__CE_definition=t,t.attributeChangedCallback)for(var r=t.observedAttributes,o=0;o<r.length;o++){var i=r[o],s=e.getAttribute(i);null!==s&&this.attributeChangedCallback(e,i,null,s,null)}isConnected(e)&&this.connectedCallback(e)}}}},{key:"connectedCallback",value:function(e){var t=e.__CE_definition;t.connectedCallback&&t.connectedCallback.call(e)}},{key:"disconnectedCallback",value:function(e){var t=e.__CE_definition;t.disconnectedCallback&&t.disconnectedCallback.call(e)}},{key:"attributeChangedCallback",value:function(e,t,n,r,o){var i=e.__CE_definition;i.attributeChangedCallback&&i.observedAttributes.indexOf(t)>-1&&i.attributeChangedCallback.call(e,t,n,r,o)}}]),e}(),DocumentConstructionObserver=function(){function e(t,n){classCallCheck(this,e),this._internals=t,this._document=n,this._observer=void 0,this._internals.patchAndUpgradeTree(this._document),"loading"===this._document.readyState&&(this._observer=new MutationObserver(this._handleMutations.bind(this)),this._observer.observe(this._document,{childList:!0,subtree:!0}))}return createClass(e,[{key:"disconnect",value:function(){this._observer&&this._observer.disconnect()}},{key:"_handleMutations",value:function(e){var t=this._document.readyState;"interactive"!==t&&"complete"!==t||this.disconnect();for(var n=0;n<e.length;n++)for(var r=e[n].addedNodes,o=0;o<r.length;o++){var i=r[o];this._internals.patchAndUpgradeTree(i)}}}]),e}(),Deferred=function(){function e(){var t=this;classCallCheck(this,e),this._value=void 0,this._resolve=void 0,this._promise=new Promise(function(e){t._resolve=e,t._value&&e(t._value)})}return createClass(e,[{key:"resolve",value:function(e){if(this._value)throw new Error("Already resolved.");this._value=e,this._resolve&&this._resolve(e)}},{key:"toPromise",value:function(){
return this._promise}}]),e}(),CustomElementRegistry=function(){function e(t){classCallCheck(this,e),this._elementDefinitionIsRunning=!1,this._internals=t,this._whenDefinedDeferred=new Map,this._flushCallback=function(e){return e()},this._flushPending=!1,this._unflushedLocalNames=[],this._documentConstructionObserver=new DocumentConstructionObserver(t,document)}return createClass(e,[{key:"define",value:function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!isValidCustomElementName(e))throw new SyntaxError("The element name '"+e+"' is not valid.");if(this._internals.localNameToDefinition(e))throw new Error("A custom element with name '"+e+"' has already been defined.");if(this._elementDefinitionIsRunning)throw new Error("A custom element is already being defined.");this._elementDefinitionIsRunning=!0;var r=void 0,o=void 0,i=void 0,s=void 0,a=void 0;try{var l=function(e){var t=c[e];if(void 0!==t&&!(t instanceof Function))throw new Error("The '"+e+"' callback must be a function.");return t},c=t.prototype;if(!(c instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");r=l("connectedCallback"),o=l("disconnectedCallback"),i=l("adoptedCallback"),s=l("attributeChangedCallback"),a=t.observedAttributes||[]}catch(e){return}finally{this._elementDefinitionIsRunning=!1}var u={localName:e,constructor:t,connectedCallback:r,disconnectedCallback:o,adoptedCallback:i,attributeChangedCallback:s,observedAttributes:a,constructionStack:[]};this._internals.setDefinition(e,u),this._unflushedLocalNames.push(e),this._flushPending||(this._flushPending=!0,this._flushCallback(function(){return n._flush()}))}},{key:"_flush",value:function(){if(this._flushPending!==!1)for(this._flushPending=!1,this._internals.patchAndUpgradeTree(document);this._unflushedLocalNames.length>0;){var e=this._unflushedLocalNames.shift(),t=this._whenDefinedDeferred.get(e);t&&t.resolve(void 0)}}},{key:"get",value:function(e){var t=this._internals.localNameToDefinition(e);if(t)return t.constructor}},{key:"whenDefined",value:function(e){if(!isValidCustomElementName(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this._whenDefinedDeferred.get(e);if(t)return t.toPromise();var n=new Deferred;return this._whenDefinedDeferred.set(e,n),this._internals.localNameToDefinition(e)&&this._unflushedLocalNames.indexOf(e)===-1&&n.resolve(void 0),n.toPromise()}},{key:"polyfillWrapFlushCallback",value:function(e){this._documentConstructionObserver.disconnect();var t=this._flushCallback;this._flushCallback=function(n){return e(function(){return t(n)})}}}]),e}();window.CustomElementRegistry=CustomElementRegistry,CustomElementRegistry.prototype.define=CustomElementRegistry.prototype.define,CustomElementRegistry.prototype.get=CustomElementRegistry.prototype.get,CustomElementRegistry.prototype.whenDefined=CustomElementRegistry.prototype.whenDefined,CustomElementRegistry.prototype.polyfillWrapFlushCallback=CustomElementRegistry.prototype.polyfillWrapFlushCallback;var Native={Document_createElement:window.Document.prototype.createElement,Document_createElementNS:window.Document.prototype.createElementNS,Document_importNode:window.Document.prototype.importNode,Document_prepend:window.Document.prototype.prepend,Document_append:window.Document.prototype.append,Node_cloneNode:window.Node.prototype.cloneNode,Node_appendChild:window.Node.prototype.appendChild,Node_insertBefore:window.Node.prototype.insertBefore,Node_removeChild:window.Node.prototype.removeChild,Node_replaceChild:window.Node.prototype.replaceChild,Node_textContent:Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Element_attachShadow:window.Element.prototype.attachShadow,Element_innerHTML:Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Element_getAttribute:window.Element.prototype.getAttribute,Element_setAttribute:window.Element.prototype.setAttribute,Element_removeAttribute:window.Element.prototype.removeAttribute,Element_getAttributeNS:window.Element.prototype.getAttributeNS,Element_setAttributeNS:window.Element.prototype.setAttributeNS,Element_removeAttributeNS:window.Element.prototype.removeAttributeNS,Element_insertAdjacentElement:window.Element.prototype.insertAdjacentElement,Element_prepend:window.Element.prototype.prepend,Element_append:window.Element.prototype.append,Element_before:window.Element.prototype.before,Element_after:window.Element.prototype.after,Element_replaceWith:window.Element.prototype.replaceWith,Element_remove:window.Element.prototype.remove,HTMLElement:window.HTMLElement,HTMLElement_innerHTML:Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),HTMLElement_insertAdjacentElement:window.HTMLElement.prototype.insertAdjacentElement},AlreadyConstructedMarker=function e(){classCallCheck(this,e)},AlreadyConstructedMarker$1=new AlreadyConstructedMarker,priorCustomElements=window.customElements;if(!priorCustomElements||priorCustomElements.forcePolyfill||"function"!=typeof priorCustomElements.define||"function"!=typeof priorCustomElements.get){var internals=new CustomElementInternals;PatchHTMLElement(internals),PatchDocument(internals),PatchNode(internals),PatchElement(internals),document.__CE_hasRegistry=!0;var customElements$1=new CustomElementRegistry(internals);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:customElements$1})}var settings=window.ShadyDOM||{};settings.hasNativeShadowDOM=Boolean(Element.prototype.attachShadow&&Node.prototype.getRootNode);var desc=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild");settings.hasDescriptors=Boolean(desc&&desc.configurable&&desc.get),settings.inUse=settings.force||!settings.hasNativeShadowDOM;var p=Element.prototype,matches=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector,twiddle=document.createTextNode(""),content=0,queue=[];new MutationObserver(function(){for(;queue.length;)try{queue.shift()()}catch(e){throw twiddle.textContent=content++,e}}).observe(twiddle,{characterData:!0});var flushList=[],scheduled=void 0;flush.list=flushList;var AsyncObserver=function(){function e(){classCallCheck(this,e),this._scheduled=!1,this.addedNodes=[],this.removedNodes=[],this.callbacks=new Set}return createClass(e,[{key:"schedule",value:function(){var e=this;this._scheduled||(this._scheduled=!0,microtask(function(){e.flush()}))}},{key:"flush",value:function(){if(this._scheduled){this._scheduled=!1;var e=this.takeRecords();e.length&&this.callbacks.forEach(function(t){t(e)})}}},{key:"takeRecords",value:function(){if(this.addedNodes.length||this.removedNodes.length){var e=[{addedNodes:this.addedNodes,removedNodes:this.removedNodes}];return this.addedNodes=[],this.removedNodes=[],e}return[]}}]),e}(),observeChildren=function(e,t){e.__shady=e.__shady||{},e.__shady.observer||(e.__shady.observer=new AsyncObserver),e.__shady.observer.callbacks.add(t);var n=e.__shady.observer;return{_callback:t,_observer:n,_node:e,takeRecords:function(){return n.takeRecords()}}},unobserveChildren=function(e){var t=e&&e._observer;t&&(t.callbacks.delete(e._callback),t.callbacks.size||(e._node.__shady.observer=null))},appendChild=Element.prototype.appendChild,insertBefore=Element.prototype.insertBefore,removeChild=Element.prototype.removeChild,setAttribute=Element.prototype.setAttribute,removeAttribute=Element.prototype.removeAttribute,cloneNode=Element.prototype.cloneNode,importNode=Document.prototype.importNode,nativeAddEventListener=Element.prototype.addEventListener,nativeRemoveEventListener=Element.prototype.removeEventListener,nativeMethods=Object.freeze({appendChild:appendChild,insertBefore:insertBefore,removeChild:removeChild,setAttribute:setAttribute,removeAttribute:removeAttribute,cloneNode:cloneNode,importNode:importNode,addEventListener:nativeAddEventListener,removeEventListener:nativeRemoveEventListener}),escapeAttrRegExp=/[&\u00A0"]/g,escapeDataRegExp=/[&\u00A0<>]/g,voidElements=makeSet(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),plaintextParents=makeSet(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),nodeWalker=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),elementWalker=document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT,null,!1),nativeTree=Object.freeze({parentNode:parentNode,firstChild:firstChild,lastChild:lastChild,previousSibling:previousSibling,nextSibling:nextSibling,childNodes:childNodes,parentElement:parentElement,firstElementChild:firstElementChild,lastElementChild:lastElementChild,previousElementSibling:previousElementSibling,nextElementSibling:nextElementSibling,children:children,innerHTML:innerHTML,textContent:textContent}),nativeInnerHTMLDesc=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML")||Object.getOwnPropertyDescriptor(HTMLElement.prototype,"innerHTML"),inertDoc=document.implementation.createHTMLDocument("inert"),htmlContainer=inertDoc.createElement("div"),nativeActiveElementDescriptor=Object.getOwnPropertyDescriptor(Document.prototype,"activeElement"),OutsideAccessors={parentElement:generateSimpleDescriptor("parentElement"),parentNode:generateSimpleDescriptor("parentNode"),nextSibling:generateSimpleDescriptor("nextSibling"),previousSibling:generateSimpleDescriptor("previousSibling"),className:{get:function(){var e=this.getAttribute("class");return this.getAttribute("class")?e:""},set:function(e){this.setAttribute("class",e)},configurable:!0},nextElementSibling:{get:function(){if(hasProperty(this,"nextSibling")){for(var e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}return nextElementSibling(this)},configurable:!0},previousElementSibling:{get:function(){if(hasProperty(this,"previousSibling")){for(var e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}return previousElementSibling(this)},configurable:!0}},InsideAccessors={childNodes:{get:function(){if(hasProperty(this,"firstChild")){if(!this.__shady.childNodes){this.__shady.childNodes=[];for(var e=this.firstChild;e;e=e.nextSibling)this.__shady.childNodes.push(e)}return this.__shady.childNodes}return childNodes(this)},configurable:!0},firstChild:generateSimpleDescriptor("firstChild"),lastChild:generateSimpleDescriptor("lastChild"),textContent:{get:function(){if(hasProperty(this,"firstChild")){for(var e,t=[],n=0,r=this.childNodes;e=r[n];n++)e.nodeType!==Node.COMMENT_NODE&&t.push(e.textContent);return t.join("")}return textContent(this)},set:function(e){this.nodeType!==Node.ELEMENT_NODE?this.nodeValue=e:(clearNode(this),e&&this.appendChild(document.createTextNode(e)))},configurable:!0},firstElementChild:{get:function(){if(hasProperty(this,"firstChild")){for(var e=this.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}return firstElementChild(this)},configurable:!0},lastElementChild:{get:function(){if(hasProperty(this,"lastChild")){for(var e=this.lastChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}return lastElementChild(this)},configurable:!0},children:{get:function(){return hasProperty(this,"firstChild")?Array.prototype.filter.call(this.childNodes,function(e){return e.nodeType===Node.ELEMENT_NODE}):children(this)},configurable:!0},innerHTML:{get:function(){var e="template"===this.localName?this.content:this;return hasProperty(this,"firstChild")?getInnerHTML(e):innerHTML(e)},set:function(e){var t="template"===this.localName?this.content:this;for(clearNode(t),nativeInnerHTMLDesc&&nativeInnerHTMLDesc.set?nativeInnerHTMLDesc.set.call(htmlContainer,e):htmlContainer.innerHTML=e;htmlContainer.firstChild;)t.appendChild(htmlContainer.firstChild)},configurable:!0}},ShadowRootAccessor={shadowRoot:{get:function(){return this.shadyRoot},set:function(e){this.shadyRoot=e},configurable:!0}},ActiveElementAccessor={activeElement:{get:function(){return activeElementForNode(this)},set:function(){},configurable:!0}},patchOutsideElementAccessors=settings.hasDescriptors?function(){}:function(e){e.__shady&&e.__shady.__outsideAccessors||(e.__shady=e.__shady||{},e.__shady.__outsideAccessors=!0,patchAccessorGroup(e,OutsideAccessors,!0))},patchInsideElementAccessors=settings.hasDescriptors?function(){}:function(e){e.__shady&&e.__shady.__insideAccessors||(e.__shady=e.__shady||{},e.__shady.__insideAccessors=!0,patchAccessorGroup(e,InsideAccessors,!0),patchAccessorGroup(e,ShadowRootAccessor,!0))},recordChildNodes=function(e){if(!hasProperty(e,"firstChild")){e.__shady=e.__shady||{},e.__shady.firstChild=firstChild(e),e.__shady.lastChild=lastChild(e),patchInsideElementAccessors(e);for(var t,n=e.__shady.childNodes=childNodes(e),r=0;r<n.length&&(t=n[r]);r++)t.__shady=t.__shady||{},t.__shady.parentNode=e,t.__shady.nextSibling=n[r+1]||null,t.__shady.previousSibling=n[r-1]||null,patchOutsideElementAccessors(t)}},scopingShim=null,alwaysComposed={blur:!0,focus:!0,focusin:!0,focusout:!0,click:!0,dblclick:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,wheel:!0,beforeinput:!0,input:!0,keydown:!0,keyup:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,touchstart:!0,touchend:!0,touchmove:!0,touchcancel:!0,pointerover:!0,pointerenter:!0,pointerdown:!0,pointermove:!0,pointerup:!0,pointercancel:!0,pointerout:!0,pointerleave:!0,gotpointercapture:!0,lostpointercapture:!0,dragstart:!0,drag:!0,dragenter:!0,dragleave:!0,dragover:!0,drop:!0,dragend:!0,DOMActivate:!0,DOMFocusIn:!0,DOMFocusOut:!0,keypress:!0},eventMixin={get composed(){return this.isTrusted&&void 0===this.__composed&&(this.__composed=alwaysComposed[this.type]),this.__composed||!1},composedPath:function(){return this.__composedPath||(this.__composedPath=pathComposer(this.__target,this.composed)),this.__composedPath},get target(){return retarget(this.currentTarget,this.composedPath())},get relatedTarget(){return this.__relatedTarget?(this.__relatedTargetComposedPath||(this.__relatedTargetComposedPath=pathComposer(this.__relatedTarget,!0)),retarget(this.currentTarget,this.__relatedTargetComposedPath)):null},stopPropagation:function(){Event.prototype.stopPropagation.call(this),this.__propagationStopped=!0},stopImmediatePropagation:function(){Event.prototype.stopImmediatePropagation.call(this),this.__immediatePropagationStopped=!0,this.__propagationStopped=!0}},nonBubblingEventsToRetarget={focus:!0,blur:!0},PatchedEvent=mixinComposedFlag(window.Event),PatchedCustomEvent=mixinComposedFlag(window.CustomEvent),PatchedMouseEvent=mixinComposedFlag(window.MouseEvent),EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3,ArraySplice={calcEditDistances:function(e,t,n,r,o,i){for(var s=i-o+1,a=n-t+1,l=new Array(s),c=0;c<s;c++)l[c]=new Array(a),l[c][0]=c;for(var u=0;u<a;u++)l[0][u]=u;for(var h=1;h<s;h++)for(var d=1;d<a;d++)if(this.equals(e[t+d-1],r[o+h-1]))l[h][d]=l[h-1][d-1];else{var p=l[h-1][d]+1,f=l[h][d-1]+1;l[h][d]=p<f?p:f}return l},spliceOperationsFromEditDistances:function(e){for(var t=e.length-1,n=e[0].length-1,r=e[t][n],o=[];t>0||n>0;)if(0!=t)if(0!=n){var i=e[t-1][n-1],s=e[t-1][n],a=e[t][n-1],l=void 0;l=s<a?s<i?s:i:a<i?a:i,l==i?(i==r?o.push(0):(o.push(1),r=i),t--,n--):l==s?(o.push(3),t--,r=s):(o.push(2),n--,r=a)}else o.push(3),t--;else o.push(2),n--;return o.reverse(),o},calcSplices:function(e,t,n,r,o,i){var s=0,a=0,l=void 0,c=Math.min(n-t,i-o);if(0==t&&0==o&&(s=this.sharedPrefix(e,r,c)),n==e.length&&i==r.length&&(a=this.sharedSuffix(e,r,c-s)),t+=s,o+=s,n-=a,i-=a,n-t==0&&i-o==0)return[];if(t==n){for(l=newSplice(t,[],0);o<i;)l.removed.push(r[o++]);return[l]}if(o==i)return[newSplice(t,[],n-t)];var u=this.spliceOperationsFromEditDistances(this.calcEditDistances(e,t,n,r,o,i));l=void 0;for(var h=[],d=t,p=o,f=0;f<u.length;f++)switch(u[f]){case 0:l&&(h.push(l),l=void 0),d++,p++;break;case 1:l||(l=newSplice(d,[],0)),l.addedCount++,d++,l.removed.push(r[p]),p++;break;case 2:l||(l=newSplice(d,[],0)),l.addedCount++,d++;break;case 3:l||(l=newSplice(d,[],0)),l.removed.push(r[p]),p++}return l&&h.push(l),h},sharedPrefix:function(e,t,n){for(var r=0;r<n;r++)if(!this.equals(e[r],t[r]))return r;return n},sharedSuffix:function(e,t,n){for(var r=e.length,o=t.length,i=0;i<n&&this.equals(e[--r],t[--o]);)i++;return i},calculateSplices:function(e,t){return this.calcSplices(e,0,e.length,t,0,t.length)},equals:function(e,t){return e===t}},calculateSplices=function(e,t){return ArraySplice.calculateSplices(e,t)},NormalizedEvent="function"==typeof Event?Event:function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},_class=function(){function e(t){classCallCheck(this,e),this.root=t,this.insertionPointTag="slot"}return createClass(e,[{key:"getInsertionPoints",value:function(){return this.root.querySelectorAll(this.insertionPointTag)}},{key:"hasInsertionPoint",value:function(){return Boolean(this.root._insertionPoints&&this.root._insertionPoints.length)}},{key:"isInsertionPoint",value:function(e){return e.localName&&e.localName==this.insertionPointTag}},{key:"distribute",value:function(){return this.hasInsertionPoint()?this.distributePool(this.root,this.collectPool()):[]}},{key:"collectPool",value:function(){for(var e=this.root.host,t=[],n=0,r=e.firstChild;r;r=r.nextSibling)t[n++]=r;return t}},{key:"distributePool",value:function(e,t){for(var n,r=[],o=this.root._insertionPoints,i=0,s=o.length;i<s&&(n=o[i]);i++){this.distributeInsertionPoint(n,t);var a=n.parentNode;a&&a.shadyRoot&&this.hasInsertionPoint(a.shadyRoot)&&r.push(a.shadyRoot)}for(var l=0;l<t.length;l++){var c=t[l];if(c){c.__shady=c.__shady||{},c.__shady.assignedSlot=void 0;var u=parentNode(c);u&&removeChild.call(u,c)}}return r}},{key:"distributeInsertionPoint",value:function(e,t){var n=e.__shady.assignedNodes;n&&this.clearAssignedSlots(e,!0),e.__shady.assignedNodes=[];for(var r,o=!1,i=!1,s=0,a=t.length;s<a;s++)r=t[s],r&&this.matchesInsertionPoint(r,e)&&(r.__shady._prevAssignedSlot!=e&&(o=!0),this.distributeNodeInto(r,e),t[s]=void 0,i=!0);if(!i)for(var l,c=e.childNodes,u=0;u<c.length;u++)l=c[u],l.__shady._prevAssignedSlot!=e&&(o=!0),this.distributeNodeInto(l,e);if(n){for(var h=0;h<n.length;h++)n[h].__shady._prevAssignedSlot=null;e.__shady.assignedNodes.length<n.length&&(o=!0)}this.setDistributedNodesOnInsertionPoint(e),o&&this._fireSlotChange(e)}},{key:"clearAssignedSlots",value:function(e,t){var n=e.__shady.assignedNodes;if(n)for(var r=0;r<n.length;r++){var o=n[r];t&&(o.__shady._prevAssignedSlot=o.__shady.assignedSlot),o.__shady.assignedSlot===e&&(o.__shady.assignedSlot=null)}}},{key:"matchesInsertionPoint",value:function(e,t){var n=t.getAttribute("name");n=n?n.trim():"";var r=e.getAttribute&&e.getAttribute("slot");return r=r?r.trim():"",r==n}},{key:"distributeNodeInto",value:function(e,t){t.__shady.assignedNodes.push(e),e.__shady.assignedSlot=t}},{key:"setDistributedNodesOnInsertionPoint",value:function(e){var t=e.__shady.assignedNodes;e.__shady.distributedNodes=[];for(var n,r=0;r<t.length&&(n=t[r]);r++)if(this.isInsertionPoint(n)){var o=n.__shady.distributedNodes;if(o)for(var i=0;i<o.length;i++)e.__shady.distributedNodes.push(o[i])}else e.__shady.distributedNodes.push(t[r])}},{key:"_fireSlotChange",value:function(e){e.dispatchEvent(new NormalizedEvent("slotchange")),e.__shady.assignedSlot&&this._fireSlotChange(e.__shady.assignedSlot)}},{key:"isFinalDestination",value:function(e){return!e.__shady.assignedSlot}}]),e}(),ShadyRootConstructionToken={},ShadyRoot=function e(t,n){if(t!==ShadyRootConstructionToken)throw new TypeError("Illegal constructor");var r=document.createDocumentFragment();return r.__proto__=e.prototype,r._init(n),r};ShadyRoot.prototype=Object.create(DocumentFragment.prototype),extendAll(ShadyRoot.prototype,{_init:function(e){this.__localName="ShadyRoot",recordChildNodes(e),recordChildNodes(this),e.shadowRoot=this,this.host=e,this._renderPending=!1,this._hasRendered=!1,this._changePending=!1,this._distributor=new _class(this),this.update()},update:function(){var e=this;this._renderPending||(this._renderPending=!0,enqueue(function(){return e.render()}))},_getRenderRoot:function(){for(var e=this,t=this;t;)t._renderPending&&(e=t),t=t._rendererForHost();return e},_rendererForHost:function(){var e=this.host.getRootNode();if(isShadyRoot(e))for(var t,n=this.host.childNodes,r=0;r<n.length;r++)if(t=n[r],this._distributor.isInsertionPoint(t))return e},render:function(){this._renderPending&&this._getRenderRoot()._render()},_render:function(){this._renderPending=!1,this._changePending=!1,this._skipUpdateInsertionPoints?this._hasRendered||(this._insertionPoints=[]):this.updateInsertionPoints(),this._skipUpdateInsertionPoints=!1,this.distribute(),this.compose(),this._hasRendered=!0},forceRender:function(){this._renderPending=!0,this.render()},distribute:function(){for(var e=this._distributor.distribute(),t=0;t<e.length;t++)e[t]._render()},updateInsertionPoints:function(){var e=this.__insertionPoints;if(e)for(var t,n=0;n<e.length;n++)t=e[n],t.getRootNode()!==this&&this._distributor.clearAssignedSlots(t);e=this._insertionPoints=this._distributor.getInsertionPoints();for(var r,o=0;o<e.length;o++)r=e[o],r.__shady=r.__shady||{},recordChildNodes(r),recordChildNodes(r.parentNode)},get _insertionPoints(){return this.__insertionPoints||this.updateInsertionPoints(),this.__insertionPoints||(this.__insertionPoints=[])},set _insertionPoints(e){this.__insertionPoints=e},hasInsertionPoint:function(){return this._distributor.hasInsertionPoint()},compose:function(){this._composeTree()},_composeTree:function(){this._updateChildNodes(this.host,this._composeNode(this.host));for(var e,t,n=this._insertionPoints||[],r=0,o=n.length;r<o&&(e=n[r]);r++)t=e.parentNode,t!==this.host&&t!==this&&this._updateChildNodes(t,this._composeNode(t))},_composeNode:function(e){for(var t=[],n=(e.shadyRoot||e).childNodes,r=0;r<n.length;r++){var o=n[r];if(this._distributor.isInsertionPoint(o))for(var i=o.__shady.distributedNodes||(o.__shady.distributedNodes=[]),s=0;s<i.length;s++){var a=i[s];this.isFinalDestination(o,a)&&t.push(a)}else t.push(o)}return t},isFinalDestination:function(e,t){return this._distributor.isFinalDestination(e,t)},_updateChildNodes:function(e,t){for(var n,r=childNodes(e),o=calculateSplices(t,r),i=0,s=0;i<o.length&&(n=o[i]);i++){for(var a,l=0;l<n.removed.length&&(a=n.removed[l]);l++)parentNode(a)===e&&removeChild.call(e,a),r.splice(n.index+s,1);s-=n.addedCount}for(var c,u,h=0;h<o.length&&(c=o[h]);h++){u=r[c.index];for(var d,p=c.index;p<c.index+c.addedCount;p++)d=t[p],insertBefore.call(e,d,u),r.splice(p,0,d)}},getInsertionPointTag:function(){return this._distributor.insertionPointTag}}),patchShadowRootAccessors(ShadyRoot.prototype);var nodeMixin={addEventListener:addEventListener,removeEventListener:removeEventListener,appendChild:function(e){return insertBefore$1(this,e)},insertBefore:function(e,t){return insertBefore$1(this,e,t)},removeChild:function(e){return removeChild$1(this,e)},replaceChild:function(e,t){return this.insertBefore(e,t),this.removeChild(t),e},cloneNode:function(e){return cloneNode$1(this,e)},getRootNode:function(e){return getRootNode(this,e)},get isConnected(){var e=this.ownerDocument;if(e&&e.contains&&e.contains(this))return!0;var t=e.documentElement;if(t&&t.contains&&t.contains(this))return!0;for(var n=this;n&&!(n instanceof Document);)n=n.parentNode||(n instanceof ShadyRoot?n.host:void 0);return!!(n&&n instanceof Document)}},textMixin={get assignedSlot(){return getAssignedSlot(this)}},fragmentMixin={querySelector:function(e){return query(this,function(t){return matchesSelector(t,e)},function(e){return Boolean(e)})[0]||null},querySelectorAll:function(e){return query(this,function(t){return matchesSelector(t,e)})}},slotMixin={assignedNodes:function(e){if("slot"===this.localName)return renderRootNode(this),this.__shady?(e&&e.flatten?this.__shady.distributedNodes:this.__shady.assignedNodes)||[]:[]}},elementMixin=extendAll({setAttribute:function(e,t){setAttribute$1(this,e,t)},removeAttribute:function(e){removeAttribute$1(this,e)},attachShadow:function(e){return attachShadow(this,e)},get slot(){return this.getAttribute("slot")},set slot(e){this.setAttribute("slot",e)},get assignedSlot(){return getAssignedSlot(this)}},fragmentMixin,slotMixin);Object.defineProperties(elementMixin,ShadowRootAccessor);var documentMixin=extendAll({importNode:function(e,t){return importNode$1(e,t)}},fragmentMixin);Object.defineProperties(documentMixin,{_activeElement:ActiveElementAccessor.activeElement}),settings.inUse&&(window.ShadyDOM={inUse:settings.inUse,patch:function(e){return e},isShadyRoot:isShadyRoot,enqueue:enqueue,flush:flush,settings:settings,filterMutations:filterMutations,observeChildren:observeChildren,unobserveChildren:unobserveChildren,nativeMethods:nativeMethods,nativeTree:nativeTree},patchEvents(),patchBuiltins(),window.ShadowRoot=ShadyRoot);var types={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},OPEN_BRACE="{",CLOSE_BRACE="}",RX={comments:/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},VAR_START="--",MEDIA_START="@media",AT_START="@",nativeShadow=!(window.ShadyDOM&&window.ShadyDOM.inUse),nativeCssVariables=!navigator.userAgent.match("AppleWebKit/601")&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)"),nativeCssApply=!1;window.ShadyCSS?parseSettings(window.ShadyCSS):window.WebComponents&&parseSettings(window.WebComponents.flags);var lastHeadApplyNode=null,rx={VAR_ASSIGN:/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\s}])|$)/gi,MIXIN_MATCH:/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,VAR_CONSUMED:/(--[\w-]+)\s*([:,;)]|$)/gi,ANIMATION_MATCH:/(animation\s*:)|(animation-name\s*:)/,MEDIA_MATCH:/@media[^(]*(\([^)]*\))/,IS_VAR:/^--/,BRACKETED:/\{[^}]*\}/g,HOST_PREFIX:"(?:^|[^.#[:])",HOST_SUFFIX:"($|[.:[\\s>+~])"},SCOPE_NAME="style-scope",StyleTransformer=function(){function e(){classCallCheck(this,e)}return createClass(e,[{key:"dom",value:function(e,t,n){e.__styleScoped?e.__styleScoped=null:this._transformDom(e,t||"",n)}},{key:"_transformDom",value:function(e,t,n){e.nodeType===Node.ELEMENT_NODE&&this.element(e,t,n);var r="template"===e.localName?(e.content||e._content).childNodes:e.children||e.childNodes;if(r)for(var o=0;o<r.length;o++)this._transformDom(r[o],t,n)}},{key:"element",value:function(e,t,n){if(t)if(e.classList)n?(e.classList.remove("style-scope"),e.classList.remove(t)):(e.classList.add("style-scope"),e.classList.add(t));else if(e.getAttribute){var r=e.getAttribute(CLASS);if(n){if(r){var o=r.replace("style-scope","").replace(t,"");setElementClassRaw(e,o)}}else{var i=(r?r+" ":"")+"style-scope "+t;setElementClassRaw(e,i)}}}},{key:"elementStyles",value:function(e,t,n){var r=e.__cssBuild;return(nativeShadow||"shady"===r?toCssText(t,n):this.css(t,e.is,e.extends,n)+"\n\n").trim()}},{key:"css",value:function(e,t,n,r){var o=this._calcHostScope(t,n);t=this._calcElementScope(t);var i=this;return toCssText(e,function(e){e.isScoped||(i.rule(e,t,o),e.isScoped=!0),r&&r(e,t,o)})}},{key:"_calcElementScope",value:function(e){return e?CSS_CLASS_PREFIX+e:""}},{key:"_calcHostScope",value:function(e,t){return t?"[is="+e+"]":e}},{key:"rule",value:function(e,t,n){this._transformRule(e,this._transformComplexSelector,t,n)}},{key:"_transformRule",value:function(e,t,n,r){e.selector=e.transformedSelector=this._transformRuleCss(e,t,n,r)}},{key:"_transformRuleCss",value:function(e,t,n,r){var o=e.selector.split(COMPLEX_SELECTOR_SEP);if(!isKeyframesSelector(e))for(var i,s=0,a=o.length;s<a&&(i=o[s]);s++)o[s]=t.call(this,i,n,r);return o.join(COMPLEX_SELECTOR_SEP)}},{key:"_transformComplexSelector",value:function(e,t,n){var r=this,o=!1;return e=e.trim(),e=e.replace(NTH,function(e,t,n){return":"+t+"("+n.replace(/\s/g,"")+")"}),e=e.replace(SLOTTED_START,HOST+" $1"),e=e.replace(SIMPLE_SELECTOR_SEP,function(e,i,s){if(!o){var a=r._transformCompoundSelector(s,i,t,n);o=o||a.stop,i=a.combinator,s=a.value}return i+s})}},{key:"_transformCompoundSelector",value:function(e,t,n,r){var o=e.indexOf(SLOTTED);e.indexOf(HOST)>=0?e=this._transformHostSelector(e,r):0!==o&&(e=n?this._transformSimpleSelector(e,n):e);var i=!1;o>=0&&(t="",i=!0);var s=void 0;return i&&(s=!0,i&&(e=e.replace(SLOTTED_PAREN,function(e,t){return" > "+t}))),e=e.replace(DIR_PAREN,function(e,t,n){return'[dir="'+n+'"] '+t+", "+t+'[dir="'+n+'"]'}),{value:e,combinator:t,stop:s}}},{key:"_transformSimpleSelector",value:function(e,t){var n=e.split(PSEUDO_PREFIX);return n[0]+=t,n.join(PSEUDO_PREFIX)}},{key:"_transformHostSelector",value:function(e,t){var n=e.match(HOST_PAREN),r=n&&n[2].trim()||"";if(r){if(r[0].match(SIMPLE_SELECTOR_PREFIX))return e.replace(HOST_PAREN,function(e,n,r){return t+r});return r.split(SIMPLE_SELECTOR_PREFIX)[0]===t?r:SELECTOR_NO_MATCH}return e.replace(HOST,t)}},{key:"documentRule",value:function(e){e.selector=e.parsedSelector,this.normalizeRootSelector(e),this._transformRule(e,this._transformDocumentSelector)}},{key:"normalizeRootSelector",value:function(e){e.selector===ROOT&&(e.selector="html")}},{key:"_transformDocumentSelector",value:function(e){return e.match(SLOTTED)?this._transformComplexSelector(e,SCOPE_DOC_SELECTOR):this._transformSimpleSelector(e.trim(),SCOPE_DOC_SELECTOR)}},{key:"SCOPE_NAME",get:function(){return"style-scope"}}]),e}(),NTH=/:(nth[-\w]+)\(([^)]+)\)/,SCOPE_DOC_SELECTOR=":not(.style-scope)",COMPLEX_SELECTOR_SEP=",",SIMPLE_SELECTOR_SEP=/(^|[\s>+~]+)((?:\[.+?\]|[^\s>+~=\[])+)/g,SIMPLE_SELECTOR_PREFIX=/[[.:#*]/,HOST=":host",ROOT=":root",SLOTTED="::slotted",SLOTTED_START=new RegExp("^("+SLOTTED+")"),HOST_PAREN=/(:host)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,SLOTTED_PAREN=/(?:::slotted)(?:\(((?:\([^)(]*\)|[^)(]*)+?)\))/,DIR_PAREN=/(.*):dir\((?:(ltr|rtl))\)/,CSS_CLASS_PREFIX=".",PSEUDO_PREFIX=":",CLASS="class",SELECTOR_NO_MATCH="should_not_match",StyleTransformer$1=new StyleTransformer,templateMap={},promise=Promise.resolve(),StyleInfo=function(){function e(t,n,r,o,i,s){classCallCheck(this,e),this.styleRules=t||null,this.placeholder=n||null,this.ownStylePropertyNames=r||[],this.overrideStyleProperties=null,this.elementName=o||"",this.cssBuild=s||"",this.typeExtension=i||"",this.styleProperties=null,this.scopeSelector=null,this.customStyle=null}return createClass(e,null,[{key:"get",value:function(e){return e.__styleInfo}},{key:"set",value:function(e,t){return e.__styleInfo=t,t}},{key:"invalidate",value:function(e){templateMap[e]&&(templateMap[e]._applyShimInvalid=!0)}},{key:"startValidating",value:function(e){var t=templateMap[e];t._validating||(t._validating=!0,promise.then(function(){t._applyShimInvalid=!1,t._validating=!1}))}}]),e}(),p$1=window.Element.prototype,matchesSelector$1=p$1.matches||p$1.matchesSelector||p$1.mozMatchesSelector||p$1.msMatchesSelector||p$1.oMatchesSelector||p$1.webkitMatchesSelector,IS_IE=navigator.userAgent.match("Trident"),XSCOPE_NAME="x-scope",StyleProperties=function(){function e(){classCallCheck(this,e)}return createClass(e,[{key:"decorateStyles",value:function(e){var t=this,n={},r=[],o=0;forEachRule(e,function(e){t.decorateRule(e),e.index=o++,t.collectPropertiesInCssText(e.propertyInfo.cssText,n)},function(e){r.push(e)}),e._keyframes=r;var i=[];for(var s in n)i.push(s);return i}},{key:"decorateRule",value:function(e){if(e.propertyInfo)return e.propertyInfo;var t={},n={};return this.collectProperties(e,n)&&(t.properties=n,e.rules=null),t.cssText=this.collectCssText(e),e.propertyInfo=t,t}},{key:"collectProperties",value:function(e,t){var n=e.propertyInfo;if(!n){for(var r=void 0,o=rx.VAR_ASSIGN,i=e.parsedCssText,s=void 0,a=void 0;r=o.exec(i);)s=(r[2]||r[3]).trim(),"inherit"===s&&"unset"===s||(t[r[1].trim()]=s),a=!0;return a}
if(n.properties)return Object.assign(t,n.properties),!0}},{key:"collectCssText",value:function(e){return this.collectConsumingCssText(e.parsedCssText)}},{key:"collectConsumingCssText",value:function(e){return e.replace(rx.BRACKETED,"").replace(rx.VAR_ASSIGN,"")}},{key:"collectPropertiesInCssText",value:function(e,t){for(var n=void 0;n=rx.VAR_CONSUMED.exec(e);){var r=n[1];":"!==n[2]&&(t[r]=!0)}}},{key:"reify",value:function(e){for(var t,n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++)t=n[r],e[t]=this.valueForProperty(e[t],e)}},{key:"valueForProperty",value:function(e,t){if(e)if(e.indexOf(";")>=0)e=this.valueForProperties(e,t);else{var n=this,r=function(e,r,o,i){if(!r)return e+i;var s=n.valueForProperty(t[r],t);return s&&"initial"!==s?"apply-shim-inherit"===s&&(s="inherit"):s=n.valueForProperty(t[o]||o,t)||o,e+(s||"")+i};e=processVariableAndFallback(e,r)}return e&&e.trim()||""}},{key:"valueForProperties",value:function(e,t){for(var n,r,o=e.split(";"),i=0;i<o.length;i++)if(n=o[i]){if(rx.MIXIN_MATCH.lastIndex=0,r=rx.MIXIN_MATCH.exec(n))n=this.valueForProperty(t[r[1]],t);else{var s=n.indexOf(":");if(s!==-1){var a=n.substring(s);a=a.trim(),a=this.valueForProperty(a,t)||a,n=n.substring(0,s)+a}}o[i]=n&&n.lastIndexOf(";")===n.length-1?n.slice(0,-1):n||""}return o.join(";")}},{key:"applyProperties",value:function(e,t){var n="";e.propertyInfo||this.decorateRule(e),e.propertyInfo.cssText&&(n=this.valueForProperties(e.propertyInfo.cssText,t)),e.cssText=n}},{key:"applyKeyframeTransforms",value:function(e,t){var n=e.cssText,r=e.cssText;if(null==e.hasAnimations&&(e.hasAnimations=rx.ANIMATION_MATCH.test(n)),e.hasAnimations){var o=void 0;if(null==e.keyframeNamesToTransform){e.keyframeNamesToTransform=[];for(var i in t)o=t[i],r=o(n),n!==r&&(n=r,e.keyframeNamesToTransform.push(i))}else{for(var s=0;s<e.keyframeNamesToTransform.length;++s)o=t[e.keyframeNamesToTransform[s]],n=o(n);r=n}}e.cssText=r}},{key:"propertyDataFromStyles",value:function(e,t){var n={},r=this,o=[];return forEachRule(e,function(e){e.propertyInfo||r.decorateRule(e);var i=e.transformedSelector||e.parsedSelector;t&&e.propertyInfo.properties&&i&&matchesSelector$1.call(t,i)&&(r.collectProperties(e,n),addToBitMask(e.index,o))},null,!0),{properties:n,key:o}}},{key:"whenHostOrRootRule",value:function(e,t,n,r){if(t.propertyInfo||this.decorateRule(t),t.propertyInfo.properties){var o=e.is?StyleTransformer$1._calcHostScope(e.is,e.extends):"html",i=t.parsedSelector,s=":host > *"===i||"html"===i,a=0===i.indexOf(":host")&&!s;if("shady"===n&&(s=i===o+" > *."+o||i.indexOf("html")!==-1,a=!s&&0===i.indexOf(o)),"shadow"===n&&(s=":host > *"===i||"html"===i,a=a&&!s),s||a){var l=o;a&&(nativeShadow&&!t.transformedSelector&&(t.transformedSelector=StyleTransformer$1._transformRuleCss(t,StyleTransformer$1._transformComplexSelector,StyleTransformer$1._calcElementScope(e.is),o)),l=t.transformedSelector||o),r({selector:l,isHost:a,isRoot:s})}}}},{key:"hostAndRootPropertiesForScope",value:function(e,t){var n={},r={},o=this,i=t&&t.__cssBuild;return forEachRule(t,function(t){o.whenHostOrRootRule(e,t,i,function(i){var s=e._element||e;matchesSelector$1.call(s,i.selector)&&(i.isHost?o.collectProperties(t,n):o.collectProperties(t,r))})},null,!0),{rootProps:r,hostProps:n}}},{key:"transformStyles",value:function(e,t,n){var r=this,o=StyleTransformer$1._calcHostScope(e.is,e.extends),i=e.extends?"\\"+o.slice(0,-1)+"\\]":o,s=new RegExp(rx.HOST_PREFIX+i+rx.HOST_SUFFIX),a=StyleInfo.get(e).styleRules,l=this._elementKeyframeTransforms(e,a,n);return StyleTransformer$1.elementStyles(e,a,function(e){r.applyProperties(e,t),nativeShadow||isKeyframesSelector(e)||!e.cssText||(r.applyKeyframeTransforms(e,l),r._scopeSelector(e,s,o,n))})}},{key:"_elementKeyframeTransforms",value:function(e,t,n){var r=t._keyframes,o={};if(!nativeShadow&&r)for(var i=0,s=r[i];i<r.length;s=r[++i])this._scopeKeyframes(s,n),o[s.keyframesName]=this._keyframesRuleTransformer(s);return o}},{key:"_keyframesRuleTransformer",value:function(e){return function(t){return t.replace(e.keyframesNameRx,e.transformedKeyframesName)}}},{key:"_scopeKeyframes",value:function(e,t){e.keyframesNameRx=new RegExp(e.keyframesName,"g"),e.transformedKeyframesName=e.keyframesName+"-"+t,e.transformedSelector=e.transformedSelector||e.selector,e.selector=e.transformedSelector.replace(e.keyframesName,e.transformedKeyframesName)}},{key:"_scopeSelector",value:function(e,t,n,r){e.transformedSelector=e.transformedSelector||e.selector;for(var o,i=e.transformedSelector,s="."+r,a=i.split(","),l=0,c=a.length;l<c&&(o=a[l]);l++)a[l]=o.match(t)?o.replace(n,s):s+" "+o;e.selector=a.join(",")}},{key:"applyElementScopeSelector",value:function(e,t,n){var r=e.getAttribute("class")||"",o=r;n&&(o=r.replace(new RegExp("\\s*x-scope\\s*"+n+"\\s*","g")," ")),o+=(o?" ":"")+"x-scope "+t,r!==o&&setElementClassRaw(e,o)}},{key:"applyElementStyle",value:function(e,t,n,r){var o=r?r.textContent||"":this.transformStyles(e,t,n),i=StyleInfo.get(e),s=i.customStyle;return s&&!nativeShadow&&s!==r&&(s._useCount--,s._useCount<=0&&s.parentNode&&s.parentNode.removeChild(s)),nativeShadow?i.customStyle?(i.customStyle.textContent=o,r=i.customStyle):o&&(r=applyCss(o,n,e.shadowRoot,i.placeholder)):r?r.parentNode||applyStyle(r,null,i.placeholder):o&&(r=applyCss(o,n,null,i.placeholder)),r&&(r._useCount=r._useCount||0,i.customStyle!=r&&r._useCount++,i.customStyle=r),IS_IE&&(r.textContent=r.textContent),r}},{key:"applyCustomStyle",value:function(e,t){var n=rulesForStyle(e),r=this;e.textContent=toCssText(n,function(e){var n=e.cssText=e.parsedCssText;e.propertyInfo&&e.propertyInfo.cssText&&(n=removeCustomPropAssignment(n),e.cssText=r.valueForProperties(n,t))})}},{key:"XSCOPE_NAME",get:function(){return"x-scope"}}]),e}(),StyleProperties$1=new StyleProperties,placeholderMap={},StyleCache=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;classCallCheck(this,e),this.cache={},this.typeMax=t}return createClass(e,[{key:"_validate",value:function(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];if(e.properties[o]!==t[o])return!1}return!0}},{key:"store",value:function(e,t,n,r){var o=this.cache[e]||[];o.push({properties:t,styleElement:n,scopeSelector:r}),o.length>this.typeMax&&o.shift(),this.cache[e]=o}},{key:"fetch",value:function(e,t,n){var r=this.cache[e];if(r)for(var o=r.length-1;o>=0;o--){var i=r[o];if(this._validate(i,t,n))return i}}}]),e}(),MIXIN_MATCH=rx.MIXIN_MATCH,VAR_ASSIGN=rx.VAR_ASSIGN,APPLY_NAME_CLEAN=/;\s*/m,INITIAL_INHERIT=/^\s*(initial)|(inherit)\s*$/,MIXIN_VAR_SEP="_-_",MixinMap=function(){function e(){classCallCheck(this,e),this._map={}}return createClass(e,[{key:"set",value:function(e,t){e=e.trim(),this._map[e]={properties:t,dependants:{}}}},{key:"get",value:function(e){return e=e.trim(),this._map[e]}}]),e}(),ApplyShim=function(){function e(){var t=this;classCallCheck(this,e),this._currentTemplate=null,this._measureElement=null,this._map=new MixinMap,this._separator="_-_",this._boundProduceCssProperties=function(e,n,r,o){return t._produceCssProperties(e,n,r,o)}}return createClass(e,[{key:"detectMixin",value:function(e){var t=MIXIN_MATCH.test(e)||VAR_ASSIGN.test(e);return MIXIN_MATCH.lastIndex=0,VAR_ASSIGN.lastIndex=0,t}},{key:"transformStyle",value:function(e,t){var n=rulesForStyle(e);return this.transformRules(n,t),n}},{key:"transformRules",value:function(e,t){var n=this;this._currentTemplate=templateMap[t],forEachRule(e,function(e){n.transformRule(e)}),this._currentTemplate=null}},{key:"transformRule",value:function(e){e.cssText=this.transformCssText(e.parsedCssText),":root"===e.selector&&(e.selector=":host > *")}},{key:"transformCssText",value:function(e){return e=e.replace(VAR_ASSIGN,this._boundProduceCssProperties),this._consumeCssProperties(e)}},{key:"_getInitialValueForProperty",value:function(e){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(e)}},{key:"_consumeCssProperties",value:function(e){for(var t=void 0;t=MIXIN_MATCH.exec(e);){var n=t[0],r=t[1],o=t.index,i=o+n.indexOf("@apply"),s=o+n.length,a=e.slice(0,i),l=e.slice(s),c=this._cssTextToMap(a),u=this._atApplyToCssProperties(r,c);e=[a,u,l].join(""),MIXIN_MATCH.lastIndex=o+u.length}return e}},{key:"_atApplyToCssProperties",value:function(e,t){e=e.replace(/;\s*/m,"");var n=[],r=this._map.get(e);if(r||(this._map.set(e,{}),r=this._map.get(e)),r){this._currentTemplate&&(r.dependants[this._currentTemplate.name]=this._currentTemplate);var o=void 0,i=void 0,s=void 0;for(o in r.properties)s=t&&t[o],i=[o,": var(",e,"_-_",o],s&&i.push(",",s),i.push(")"),n.push(i.join(""))}return n.join("; ")}},{key:"_replaceInitialOrInherit",value:function(t,n){var r=INITIAL_INHERIT.exec(n);return r&&(n=r[1]?e._getInitialValueForProperty(t):"apply-shim-inherit"),n}},{key:"_cssTextToMap",value:function(e){for(var t,n,r=e.split(";"),o=void 0,i=void 0,s={},a=0;a<r.length;a++)t=r[a],t&&(n=t.split(":"),n.length>1&&(o=n[0].trim(),i=this._replaceInitialOrInherit(o,n.slice(1).join(":")),s[o]=i));return s}},{key:"_invalidateMixinEntry",value:function(e){for(var t in e.dependants)this._currentTemplate&&t===this._currentTemplate.name||StyleInfo.invalidate(t)}},{key:"_produceCssProperties",value:function(e,t,n,r){var o=this;if(n&&processVariableAndFallback(n,function(e,t){t&&o._map.get(t)&&(r="@apply "+t+";")}),!r)return e;var i=this._consumeCssProperties(r),s=e.slice(0,e.indexOf("--")),a=this._cssTextToMap(i),l=a,c=this._map.get(t),u=c&&c.properties;u?l=Object.assign(Object.create(u),a):this._map.set(t,l);var h=[],d=void 0,p=void 0,f=!1;for(d in l)p=a[d],void 0===p&&(p="initial"),!u||d in u||(f=!0),h.push(t+"_-_"+d+": "+p);return f&&this._invalidateMixinEntry(c),c&&(c.properties=l),n&&(s=e+";"+s),s+h.join("; ")+";"}}]),e}(),applyShim=new ApplyShim;window.ApplyShim=applyShim;var flush$1=function(){};if(!nativeShadow){var elementNeedsScoping=function(e){return e.classList&&!e.classList.contains(StyleTransformer$1.SCOPE_NAME)||e instanceof SVGElement&&(!e.hasAttribute("class")||e.getAttribute("class").indexOf(StyleTransformer$1.SCOPE_NAME)<0)},handler=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.target!==document.documentElement&&n.target!==document.head){for(var r=0;r<n.addedNodes.length;r++){var o=n.addedNodes[r];if(elementNeedsScoping(o)){var i=o.getRootNode();if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var s=i.host;if(s){var a=s.is||s.localName;StyleTransformer$1.dom(o,a)}}}}for(var l=0;l<n.removedNodes.length;l++){var c=n.removedNodes[l];if(c.nodeType===Node.ELEMENT_NODE){var u=void 0;if(c.classList?u=Array.from(c.classList):c.hasAttribute("class")&&(u=c.getAttribute("class").split(/\s+/)),void 0!==u){var h=u.indexOf(StyleTransformer$1.SCOPE_NAME);if(h>=0){var d=u[h+1];d&&StyleTransformer$1.dom(c,d,!0)}}}}}}},observer=new MutationObserver(handler),start=function(e){observer.observe(e,{childList:!0,subtree:!0})},nativeCustomElements=window.customElements&&!window.customElements.flush;if(nativeCustomElements)start(document);else{var delayedStart=function(){start(document.body)};window.HTMLImports?window.HTMLImports.whenReady(delayedStart):requestAnimationFrame(function(){if("loading"===document.readyState){var e=function e(){delayedStart(),document.removeEventListener("readystatechange",e)};document.addEventListener("readystatechange",e)}else delayedStart()})}flush$1=function(){handler(observer.takeRecords())}}var styleCache=new StyleCache,ShadyCSS=function(){function e(){classCallCheck(this,e),this._scopeCounter={},this._documentOwner=document.documentElement,this._documentOwnerStyleInfo=StyleInfo.set(document.documentElement,new StyleInfo({rules:[]})),this._elementsHaveApplied=!1}return createClass(e,[{key:"flush",value:function(){flush$1()}},{key:"_generateScopeSelector",value:function(e){return e+"-"+(this._scopeCounter[e]=(this._scopeCounter[e]||0)+1)}},{key:"getStyleAst",value:function(e){return rulesForStyle(e)}},{key:"styleAstToString",value:function(e){return toCssText(e)}},{key:"_gatherStyles",value:function(e){for(var t=e.content.querySelectorAll("style"),n=[],r=0;r<t.length;r++){var o=t[r];n.push(o.textContent),o.parentNode.removeChild(o)}return n.join("").trim()}},{key:"_getCssBuild",value:function(e){var t=e.content.querySelector("style");return t?t.getAttribute("css-build")||"":""}},{key:"prepareTemplate",value:function(e,t,n){if(!e._prepared){e._prepared=!0,e.name=t,e.extends=n,templateMap[t]=e;var r=this._getCssBuild(e),o=this._gatherStyles(e),i={is:t,extends:n,__cssBuild:r};this.nativeShadow||StyleTransformer$1.dom(e.content,t);var s=applyShim.detectMixin(o),a=parse(o);s&&this.nativeCss&&!this.nativeCssApply&&applyShim.transformRules(a,t),e._styleAst=a;var l=[];if(this.nativeCss||(l=StyleProperties$1.decorateStyles(e._styleAst,i)),!l.length||this.nativeCss){var c=this.nativeShadow?e.content:null,u=placeholderMap[t],h=this._generateStaticStyle(i,e._styleAst,c,u);e._style=h}e._ownPropertyNames=l}}},{key:"_generateStaticStyle",value:function(e,t,n,r){var o=StyleTransformer$1.elementStyles(e,t);if(o.length)return applyCss(o,e.is,n,r)}},{key:"_prepareHost",value:function(e){var t=e.getAttribute("is")||e.localName,n=void 0;t!==e.localName&&(n=e.localName);var r=placeholderMap[t],o=templateMap[t],i=void 0,s=void 0,a=void 0;return o&&(i=o._styleAst,s=o._ownPropertyNames,a=o._cssBuild),StyleInfo.set(e,new StyleInfo(i,r,s,t,n,a))}},{key:"applyStyle",value:function(e,t){var n=e.getAttribute("is")||e.localName,r=StyleInfo.get(e),o=Boolean(r);if(r||(r=this._prepareHost(e)),this._isRootOwner(e)||(this._elementsHaveApplied=!0),window.CustomStyle){var i=window.CustomStyle;if(i._documentDirty){if(i.findStyles(),this.nativeCss?this.nativeCssApply||i._revalidateApplyShim():this._updateProperties(this._documentOwner,this._documentOwnerStyleInfo),i.applyStyles(),!this._elementsHaveApplied)return;if(!this.nativeCss&&(this.updateStyles(),o))return}}if(t&&(r.overrideStyleProperties=r.overrideStyleProperties||{},Object.assign(r.overrideStyleProperties,t)),this.nativeCss){r.overrideStyleProperties&&this._updateNativeProperties(e,r.overrideStyleProperties);var s=templateMap[n];if(!s&&!this._isRootOwner(e))return;if(s&&s._applyShimInvalid&&s._style){if(s._validating||(applyShim.transformRules(s._styleAst,n),s._style.textContent=StyleTransformer$1.elementStyles(e,r.styleRules),StyleInfo.startValidating(n)),this.nativeShadow){var a=e.shadowRoot;if(a){a.querySelector("style").textContent=StyleTransformer$1.elementStyles(e,r.styleRules)}}r.styleRules=s._styleAst}}else this._updateProperties(e,r),r.ownStylePropertyNames&&r.ownStylePropertyNames.length&&this._applyStyleProperties(e,r);if(o){var l=this._isRootOwner(e)?e:e.shadowRoot;l&&this._applyToDescendants(l)}}},{key:"_applyToDescendants",value:function(e){for(var t,n=e.children,r=0;r<n.length;r++)t=n[r],t.shadowRoot&&this.applyStyle(t),this._applyToDescendants(t)}},{key:"_styleOwnerForNode",value:function(e){var t=e.getRootNode(),n=t.host;return n?StyleInfo.get(n)?n:this._styleOwnerForNode(n):this._documentOwner}},{key:"_isRootOwner",value:function(e){return e===this._documentOwner}},{key:"_applyStyleProperties",value:function(e,t){var n=e.getAttribute("is")||e.localName,r=styleCache.fetch(n,t.styleProperties,t.ownStylePropertyNames),o=r&&r.scopeSelector,i=r?r.styleElement:null,s=t.scopeSelector;t.scopeSelector=o||this._generateScopeSelector(n);var a=StyleProperties$1.applyElementStyle(e,t.styleProperties,t.scopeSelector,i);return this.nativeShadow||StyleProperties$1.applyElementScopeSelector(e,t.scopeSelector,s),r||styleCache.store(n,t.styleProperties,a,t.scopeSelector),a}},{key:"_updateProperties",value:function(e,t){var n=this._styleOwnerForNode(e),r=StyleInfo.get(n),o=r.styleProperties,i=Object.create(o||null),s=StyleProperties$1.hostAndRootPropertiesForScope(e,t.styleRules),a=StyleProperties$1.propertyDataFromStyles(r.styleRules,e),l=a.properties;Object.assign(i,s.hostProps,l,s.rootProps),this._mixinOverrideStyles(i,t.overrideStyleProperties),StyleProperties$1.reify(i),t.styleProperties=i}},{key:"_mixinOverrideStyles",value:function(e,t){for(var n in t){var r=t[n];(r||0===r)&&(e[n]=r)}}},{key:"_updateNativeProperties",value:function(e,t){for(var n in t)null===n?e.style.removeProperty(n):e.style.setProperty(n,t[n])}},{key:"updateStyles",value:function(e){this.applyStyle(this._documentOwner,e)}},{key:"_transformCustomStyleForDocument",value:function(e){var t=this,n=rulesForStyle(e);forEachRule(n,function(e){nativeShadow?StyleTransformer$1.normalizeRootSelector(e):StyleTransformer$1.documentRule(e),t.nativeCss&&!t.nativeCssApply&&applyShim.transformRule(e)}),this.nativeCss?e.textContent=toCssText(n):this._documentOwnerStyleInfo.styleRules.rules.push(n)}},{key:"_revalidateApplyShim",value:function(e){if(this.nativeCss&&!this.nativeCssApply){var t=rulesForStyle(e);applyShim.transformRules(t),e.textContent=toCssText(t)}}},{key:"_applyCustomStyleToDocument",value:function(e){this.nativeCss||StyleProperties$1.applyCustomStyle(e,this._documentOwnerStyleInfo.styleProperties)}},{key:"getComputedStyleValue",value:function(e,t){var n=void 0;if(!this.nativeCss){n=(StyleInfo.get(e)||StyleInfo.get(this._styleOwnerForNode(e))).styleProperties[t]}return n=n||window.getComputedStyle(e).getPropertyValue(t),n.trim()}},{key:"setElementClass",value:function(e,t){var n=e.getRootNode(),r=t?t.split(/\s/):[],o=n.host&&n.host.localName;if(!o){var i=e.getAttribute("class");if(i)for(var s=i.split(/\s/),a=0;a<s.length;a++)if(s[a]===StyleTransformer$1.SCOPE_NAME){o=s[a+1];break}}if(o&&r.push(StyleTransformer$1.SCOPE_NAME,o),!this.nativeCss){var l=StyleInfo.get(e);l&&l.scopeSelector&&r.push(StyleProperties$1.XSCOPE_NAME,l.scopeSelector)}setElementClassRaw(e,r.join(" "))}},{key:"_styleInfoForNode",value:function(e){return StyleInfo.get(e)}},{key:"nativeShadow",get:function(){return nativeShadow}},{key:"nativeCss",get:function(){return nativeCssVariables}},{key:"nativeCssApply",get:function(){return!1}}]),e}();window.ShadyCSS=new ShadyCSS;var ShadyCSS$1=window.ShadyCSS,enqueued=!1,customStyles=[],hookFn=null,CustomStyle=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return customStyles.push(e),enqueueDocumentValidation(),e}return inherits(t,e),createClass(t,null,[{key:"findStyles",value:function(){for(var e=0;e<customStyles.length;e++){var t=customStyles[e];if(!t._style){var n=t.querySelector("style");if(!n)continue;if(n.__appliedElement)for(var r=0;r<n.attributes.length;r++){var o=n.attributes[r];n.__appliedElement.setAttribute(o.name,o.value)}t._style=n.__appliedElement||n,hookFn&&hookFn(t._style),ShadyCSS$1._transformCustomStyleForDocument(t._style)}}}},{key:"_revalidateApplyShim",value:function(){for(var e=0;e<customStyles.length;e++){var t=customStyles[e];t._style&&ShadyCSS$1._revalidateApplyShim(t._style)}}},{key:"applyStyles",value:function(){for(var e=0;e<customStyles.length;e++){var t=customStyles[e];t._style&&ShadyCSS$1._applyCustomStyleToDocument(t._style)}enqueued=!1}},{key:"_customStyles",get:function(){return customStyles}},{key:"processHook",get:function(){return hookFn},set:function(e){hookFn=e}},{key:"_documentDirty",get:function(){return enqueued}}]),t}(HTMLElement);window.CustomStyle=CustomStyle,window.customElements.define("custom-style",CustomStyle);var index=createCommonjsModule(function(e){interopDefault(require$$7).shim(),interopDefault(require$$6).shim(),interopDefault(require$$5$1).polyfill();var t=window,n=t.navigator,r=n.userAgent,o=r.indexOf("Safari/60")!==-1,i=o&&r.match(/Version\/([^\s]+)/)[1],s=[0,1].map(function(e){return"10.0."+e}).concat(["10.0"]);o&&s.indexOf(i)>-1&&(window.ShadyDOM={force:!0})});interopDefault(index);var isFunction=function(e){return"function"==typeof e},isObject=function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&null!==e},isString=function(e){return"string"==typeof e},isSymbol=function(e){return"symbol"===(void 0===e?"undefined":_typeof(e))},isUndefined=function(e){return void 0===e},assign$2=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){return getPropNamesAndSymbols(t).forEach(function(n){return e[n]=t[n]})}),e},toNullOrString=function(e){return empty(e)?null:String(e)},parseIfNotEmpty=function(e){return empty(e)?null:JSON.parse(e)},array=create({coerce:function(e){return Array.isArray(e)?e:empty(e)?null:[e]},default:function(){return[]},deserialize:parseIfNotEmpty,serialize:JSON.stringify}),boolean=create({coerce:function(e){return!!e},default:!1,deserialize:function(e){return!(null===e)},serialize:function(e){return e?"":null}}),zeroIfEmptyOrNumberIncludesNaN=function(e){return empty(e)?0:Number(e)},number=create({default:0,coerce:zeroIfEmptyOrNumberIncludesNaN,deserialize:zeroIfEmptyOrNumberIncludesNaN,serialize:toNullOrString}),string=create({default:"",coerce:toNullOrString,deserialize:toNullOrString,serialize:toNullOrString}),$connected="____skate_connected",$created="____skate_created",$name="____skate_name",$ctorCreateInitProps="____skate_ctor_createInitProps",$ctorObservedAttributes="____skate_ctor_observedAttributes",$ctorProps="____skate_ctor_props",$ctorPropsMap="____skate_ctor_propsMap",$props="____skate_props",$ref="____skate_ref",$renderer="____skate_renderer",$rendering="____skate_rendering",$rendererDebounced="____skate_rendererDebounced",$updated="____skate_updated",incrementalDomCjs=createCommonjsModule(function(e,t){function n(e,t){this.attrs=a(),this.attrsArr=[],this.newAttrs=a(),this.key=t,this.keyMap=null,this.keyMapValid=!0,this.nodeName=e,this.text=null}function r(){this.created=x.nodesCreated&&[],this.deleted=x.nodesDeleted&&[]}var o=Object.prototype.hasOwnProperty,i=Object.create,s=function(e,t){return o.call(e,t)},a=function(){return i(null)},l=function(e,t,r){var o=new n(t,r);return e.__incrementalDOMData=o,o},c=function(e){var t=e.__incrementalDOMData;if(!t){var n=e.nodeName.toLowerCase(),r=null;e instanceof Element&&(r=e.getAttribute("key")),t=l(e,n,r)}return t},u={default:"__default",placeholder:"__placeholder"},h=function(e){return 0===e.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===e.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},d=function(e,t,n){if(null==n)e.removeAttribute(t);else{var r=h(t);r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}},p=function(e,t,n){e[t]=n},f=function(e,t,n){if("string"==typeof n)e.style.cssText=n;else{e.style.cssText="";var r=e.style,o=n;for(var i in o)s(o,i)&&(r[i]=o[i])}},m=function(e,t,n){var r=void 0===n?"undefined":_typeof(n);"object"===r||"function"===r?p(e,t,n):d(e,t,n)},_=function(e,t,n){var r=c(e),o=r.attrs;if(o[t]!==n){(y[t]||y[u.default])(e,t,n),o[t]=n}},y=a();y[u.default]=m,y[u.placeholder]=function(){},y.style=f;var v=function(e,t){return"svg"===e?"http://www.w3.org/2000/svg":"foreignObject"===c(t).nodeName?null:t.namespaceURI},g=function(e,t,n,r,o){var i=v(n,t),s=void 0;if(s=i?e.createElementNS(i,n):e.createElement(n),l(s,n,r),o)for(var a=0;a<o.length;a+=2)_(s,o[a],o[a+1]);return s},b=function(e){var t=e.createTextNode("");return l(t,"#text",null),t},w=function(e){for(var t=a(),n=e.firstElementChild;n;){var r=c(n).key;r&&(t[r]=n),n=n.nextElementSibling}return t},S=function(e){var t=c(e);return t.keyMap||(t.keyMap=w(e)),t.keyMap},E=function(e,t){return t?S(e)[t]:null},C=function(e,t,n){S(e)[t]=n},x={nodesCreated:null,nodesDeleted:null};r.prototype.markCreated=function(e){this.created&&this.created.push(e)},r.prototype.markDeleted=function(e){this.deleted&&this.deleted.push(e)},r.prototype.notifyChanges=function(){this.created&&this.created.length>0&&x.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&x.nodesDeleted(this.deleted)};var N=null,k=null,T=null,A=null,$=null,P=function(e){return function(t,n,o){var i=N,s=A,a=$,l=k,c=T;N=new r,A=t,$=t.ownerDocument,T=t.parentNode,e(t,n,o),N.notifyChanges(),N=i,A=s,$=a,k=l,T=c}},O=P(function(e,t,n){k=e,j(),t(n),H()}),M=P(function(e,t,n){k={nextSibling:e},t(n)}),R=function(e,t){var n=c(k);return e===n.nodeName&&t==n.key},D=function(e,t,n){if(!k||!R(e,t)){var r=void 0;t&&(r=E(T,t)),r||(r="#text"===e?b($):g($,T,e,t,n),t&&C(T,t,r),N.markCreated(r)),k&&c(k).key?(T.replaceChild(r,k),c(T).keyMapValid=!1):T.insertBefore(r,k),k=r}},I=function(){var e=T,t=c(e),n=t.keyMap,r=t.keyMapValid,o=e.lastChild,i=void 0;if(!(o===k&&r||t.attrs[u.placeholder]&&e!==A)){for(;o!==k;)e.removeChild(o),N.markDeleted(o),i=c(o).key,i&&delete n[i],o=e.lastChild;if(!r){for(i in n)o=n[i],o.parentNode!==e&&(N.markDeleted(o),delete n[i]);t.keyMapValid=!0}}},j=function(){T=k,k=null},L=function(){k=k?k.nextSibling:T.firstChild},H=function(){I(),k=T,T=T.parentNode},F=function(e,t,n){return L(),D(e,t,n),j(),T},q=function(){return H(),k},V=function(){return L(),D("#text",null,null),k},B=function(){return T},z=function(){k=T.lastChild},K=[],U=function(e,t,n,r){for(var o=F(e,t,n),i=c(o),s=i.attrsArr,a=i.newAttrs,l=!1,u=3,h=0;u<arguments.length;u+=1,h+=1)if(s[h]!==arguments[u]){l=!0;break}for(;u<arguments.length;u+=1,h+=1)s[h]=arguments[u];if(h<s.length&&(l=!0,s.length=h),l){for(u=3;u<arguments.length;u+=2)a[arguments[u]]=arguments[u+1];for(var d in a)_(o,d,a[d]),a[d]=void 0}return o},G=function(e,t,n){K[0]=e,K[1]=t,K[2]=n},W=function(e,t){K.push(e,t)},X=function(){var e=U.apply(null,K);return K.length=0,e},Y=function(e){return q()},Z=function(e,t,n,r){return U.apply(null,arguments),Y(e)},J=function(e,t,n,r){return U.apply(null,arguments),z(),Y(e)},Q=function(e,t){var n=V(),r=c(n);if(r.text!==e){r.text=e;for(var o=e,i=1;i<arguments.length;i+=1){o=(0,arguments[i])(o)}n.data=o}return n};t.patch=O,t.patchInner=O,t.patchOuter=M,t.currentElement=B,t.skip=z,t.elementVoid=Z,t.elementOpenStart=G,t.elementOpenEnd=X,t.elementOpen=U,t.elementClose=Y,t.elementPlaceholder=J,t.text=Q,t.attr=W,t.symbols=u,t.attributes=y,t.applyAttr=d,t.applyProp=p,t.notifications=x});interopDefault(incrementalDomCjs);var applyProp=incrementalDomCjs.applyProp,attributes=incrementalDomCjs.attributes,symbols=incrementalDomCjs.symbols,text=incrementalDomCjs.text,elementClose=incrementalDomCjs.elementClose,elementOpen$1=incrementalDomCjs.elementOpen,skip=incrementalDomCjs.skip,patchInner=incrementalDomCjs.patchInner,root="undefined"==typeof window?global:window,customElements$2=root.customElements,HTMLElement$1=root.HTMLElement,applyDefault=attributes[symbols.default],stackChren=[],$skip="__skip",$currentEventHandlers="__events",$stackCurrentHelperProps="__props",stackCurrentHelper=void 0,overrideArgs=void 0,skips=0,noop=function(){},attributesContext=propContext(attributes,defineProperty({key:noop,statics:noop,checked:applyProp,className:applyProp,disabled:applyProp,value:applyProp,ref:function(e,t,n){e[$ref]=n},skip:function(e,t,n){n?e.__skip=!0:delete e.__skip}},symbols.default,function(e,t,n){var r=customElements$2.get(e.localName),o=r&&r.props||{},i=r&&r.prototype||{};if((t in o||t in e||t in i)&&!("ownerSVGElement"in e))return void applyProp(e,t,n);if(n===!1)return void applyDefault(e,t);if(0===t.indexOf("on")){var s=t[2],a=void 0;if("-"===s?a=t.substring(3):s===s.toUpperCase()&&(a=s.toLowerCase()+t.substring(3)),a)return void applyEvent(e,a,n)}applyDefault(e,t,n)})),elementOpen=attributesContext(elementOpen$1),newElementOpenStart=wrapIdomFunc(elementOpenStart,stackOpen),newElementOpenEnd=wrapIdomFunc(elementOpenEnd),newElementOpen=wrapIdomFunc(elementOpen,stackOpen),newElementClose=wrapIdomFunc(elementClose,stackClose),newText=wrapIdomFunc(text),nativeHints=["native code","[object MutationObserverConstructor]"],native=function(e){return nativeHints.map(function(t){return(e||"").toString().indexOf([t])>-1}).reduce(function(e,t){return e||t})},MutationObserver$1=root.MutationObserver,debounce=native(MutationObserver$1)?microtaskDebounce:taskDebounce,AttributesManager=function(){function e(t){classCallCheck(this,e),this.elem=t,this.connected=!1,this.pendingValues={},this.lastSetValues={}}return createClass(e,[{key:"suspendAttributesUpdates",value:function(){this.connected=!1}},{key:"resumeAttributesUpdates",value:function(){var e=this;this.connected=!0,Object.keys(this.pendingValues).forEach(function(t){var n=e.pendingValues[t];isUndefined(n)||(delete e.pendingValues[t],e._syncAttrValue(t,n))})}},{key:"onAttributeChanged",value:function(e,t){t=toNullOrString(t),this._clearPendingValue(e);var n=this.lastSetValues[e]!==t;return this.lastSetValues[e]=t,n}},{key:"setAttrValue",value:function(e,t){t=toNullOrString(t),this.lastSetValues[e]=t,this.connected?(this._clearPendingValue(e),this._syncAttrValue(e,t)):this.pendingValues[e]=t}},{key:"_syncAttrValue",value:function(e,t){t!==toNullOrString(this.elem.getAttribute(e))&&(null===t?this.elem.removeAttribute(e):this.elem.setAttribute(e,t))}},{key:"_clearPendingValue",value:function(e){e in this.pendingValues&&delete this.pendingValues[e]}}]),e}(),$attributesMgr="____skate_attributesMgr",PropDefinition=function(){function e(t,n){var r=this;classCallCheck(this,e),this._nameOrSymbol=t,n=n||{},this.attrSource=null,this.attrTarget=null,this.attrTargetIsNotSource=!1,this.coerce=function(e){return e},this.default=null,this.deserialize=function(e){return e},this.get=null,this.serialize=function(e){return empty(e)?null:String(e)},this.set=null,Object.keys(n).forEach(function(e){var o=n[e];switch(e){case"attribute":if(isObject(o)){var i=o.source,s=o.target;i||s||error(e+" 'source' or 'target' is missing."),r.attrSource=resolveAttrName(i,t),r.attrTarget=resolveAttrName(s,t),r.attrTargetIsNotSource=r.attrTarget!==r.attrSource}else r.attrSource=r.attrTarget=resolveAttrName(o,t);break;case"coerce":case"deserialize":case"get":case"serialize":case"set":isFunction(o)?r[e]=o:error(e+" must be a function.");break;case"default":case"initial":r[e]=o;break;default:r[e]=o}})}return createClass(e,[{key:"nameOrSymbol",get:function(){return this._nameOrSymbol}}]),e}();Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t});var objectIs=Object.is,HTMLElement$2=root.HTMLElement||function(){function e(){classCallCheck(this,e)}return e}(),_prevName=createSymbol("prevName"),_prevOldValue=createSymbol("prevOldValue"),_prevNewValue=createSymbol("prevNewValue"),_class2=function(e){function t(){var e;classCallCheck(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),s=i.constructor;i.____skate_created=!0,s.hasOwnProperty("____skate_ctor_createInitProps")||setCtorNativeProperty(s,"____skate_ctor_createInitProps",createInitProps(s)),i.____skate_rendererDebounced=debounce(i[$renderer].bind(i)),getPropNamesAndSymbols(getPropsMap(s)).length&&s.____skate_ctor_createInitProps&&s.____skate_ctor_createInitProps(i),!i.renderCallback&&s.render&&(deprecated(i,"static render","renderCallback"),i.renderCallback=s.render.bind(s,i));var a=s.created;isFunction(a)&&(deprecated(i,"static created","constructor"),a(i));var l=data(i),c=l.readyCallbacks;return c&&(c.forEach(function(e){return e(i)}),delete l.readyCallbacks),i}return inherits(t,e),createClass(t,null,[{key:"observedAttributes",get:function(){var e=this.hasOwnProperty("____skate_ctor_observedAttributes")?this.____skate_ctor_observedAttributes:[],n=getPropsMap(this),r=Object.keys(n).map(function(e){return n[e].attrSource}).filter(Boolean),o=r.concat(e).concat(get(t.__proto__||Object.getPrototypeOf(t),"observedAttributes",this));return o.filter(function(e,t){return o.indexOf(e)===t})},set:function(e){e=Array.isArray(e)?e:[],setCtorNativeProperty(this,"observedAttributes",e)}},{key:"props",get:function(){return assign$2({},get(t.__proto__||Object.getPrototypeOf(t),"props",this),this.____skate_ctor_props)},set:function(e){setCtorNativeProperty(this,"____skate_ctor_props",e)}}]),createClass(t,[{key:"connectedCallback",value:function(){getAttrMgr(this).resumeAttributesUpdates(),
this.____skate_connected=!0,this.____skate_rendererDebounced();var e=this.constructor.attached;isFunction(e)&&(deprecated(this,"static attached","connectedCallback"),e(this)),this.setAttribute("defined","")}},{key:"disconnectedCallback",value:function(){getAttrMgr(this).suspendAttributesUpdates(),this.____skate_connected=!1;var e=this.constructor.detached;isFunction(e)&&(deprecated(this,"static detached","disconnectedCallback"),e(this))}},{key:"attributeChangedCallback",value:function(e,t,n){if(!preventDoubleCalling(this,e,t,n)){this[_prevName]=e,this[_prevOldValue]=t,this[_prevNewValue]=n;var r=data(this,"attrSourceLinks")[e];if(r){if(getAttrMgr(this).onAttributeChanged(e,n)){var o=getPropsMap(this.constructor)[r],i=null!==n&&o.deserialize?o.deserialize(n):n,s=data(this,"props")[r];s.settingPropFromAttrSource=!0,this[r]=i,s.settingPropFromAttrSource=!1}}var a=this.constructor.attributeChanged;isFunction(a)&&(deprecated(this,"static attributeChanged","attributeChangedCallback"),a(this,{name:e,newValue:n,oldValue:t}))}}},{key:"updatedCallback",value:function(e){return this.constructor.hasOwnProperty("updated")&&deprecated(this,"static updated","updatedCallback"),this.constructor.updated(this,e)}},{key:"renderedCallback",value:function(){return this.constructor.hasOwnProperty("rendered")&&deprecated(this,"static rendered","renderedCallback"),this.constructor.rendered(this)}},{key:"rendererCallback",value:function(){return this.constructor.renderer(this)}},{key:$renderer,value:function(){!this.____skate_rendering&&this.____skate_connected&&(this.____skate_rendering=!0,this.____skate_updated()&&isFunction(this.renderCallback)&&(this.rendererCallback(),this.renderedCallback()),this.____skate_rendering=!1)}},{key:"____skate_updated",value:function(){var e=this.____skate_props;return this.____skate_props=props(this),this.updatedCallback(e)}}],[{key:"extend",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(t),r=getOwnPropertyDescriptors(e),o=getOwnPropertyDescriptors(e.prototype);return delete r.prototype,Object.defineProperties(n,r),Object.defineProperties(n.prototype,o),n}},{key:"rendered",value:function(){}},{key:"renderer",value:function(e){e.shadowRoot||e.attachShadow({mode:"open"}),patchInner(e.shadowRoot,function(){var t=e.renderCallback(e);isFunction(t)?t():Array.isArray(t)&&t.forEach(function(e){isFunction(e)&&e()})})}},{key:"updated",value:function(e,t){if(!t)return!0;for(var n=getPropNamesAndSymbols(t),r=0;r<n.length;r++){var o=n[r];if(!objectIs(t[o],e[o]))return!0}return!1}}]),t}(HTMLElement$2);_class2.is="";var Event$1=function(e){if(e)try{new e("emit-init")}catch(e){return}return e}(root.Event),h=builder(),pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-1e-6;Path.prototype=path.prototype={constructor:Path,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var i=this._x1,s=this._y1,a=n-e,l=r-t,c=i-e,u=s-t,h=c*c+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(u*a-l*c)>1e-6&&o){var d=n-i,p=r-s,f=a*a+l*l,m=d*d+p*p,_=Math.sqrt(f),y=Math.sqrt(h),v=o*Math.tan((pi-Math.acos((f+h-m)/(2*_*y)))/2),g=v/y,b=v/_;Math.abs(g-1)>1e-6&&(this._+="L"+(e+g*c)+","+(t+g*u)),this._+="A"+o+","+o+",0,0,"+ +(u*d>c*p)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,o,i){e=+e,t=+t,n=+n;var s=n*Math.cos(r),a=n*Math.sin(r),l=e+s,c=t+a,u=1^i,h=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(h>tauEpsilon?this._+="A"+n+","+n+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):(h<0&&(h=h%tau+tau),this._+="A"+n+","+n+",0,"+ +(h>=pi)+","+u+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var abs=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon$1=1e-12,pi$1=Math.PI,halfPi=pi$1/2,tau$1=2*pi$1,kr=Math.sin(pi$1/10)/Math.sin(7*pi$1/10),kx=Math.sin(tau$1/10)*kr,ky=-Math.cos(tau$1/10)*kr;Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_point(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,o=e[0],i=t[0],s=e[n]-o,a=t[n]-i,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(o+r*s),this._beta*t[l]+(1-this._beta)*(i+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}},function e(t){function n(e){return new Bundle(e,.85)}return n.beta=function(t){return e(+t)},n}(.85),Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:_point$1(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:_point$1(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new Cardinal(e,0)}return n.tension=function(t){return e(+t)},n}(0),CardinalClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_point$1(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new CardinalClosed(e,0)}return n.tension=function(t){return e(+t)},n}(0),CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_point$1(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new CardinalOpen(e,0)}return n.tension=function(t){return e(+t)},n}(0),CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:_point$2(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new CatmullRom(e,.5)}return n.alpha=function(t){return e(+t)},n}(.5),CatmullRomClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_point$2(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new CatmullRomClosed(e,.5)}return n.alpha=function(t){return e(+t)},n}(.5),CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_point$2(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new CatmullRomOpen(e,.5)}return n.alpha=function(t){return e(+t)},n}(.5),MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_point$3(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_point$3(this,slope2(this,n=slope3(this,e,t)),n);break;default:_point$3(this,this._t0,n=slope3(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)},ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}};var Pentatonic=[1,3,6,8,10],keyLayout=function e(){function e(e){if(!e)for(var d=0,e=[];d<r;d++)e.push(d);i||(i=function(e){return o.includes(e)}),h||(h=function(t){return l*Math.pow(2,(t-c)/e.length)});var p=Math.ceil(Math.max.apply(Math,o)/e.length),f=[],m=[],_=[],y=[],v=0,g=void 0,b=void 0;for(g=0;g<e.length*n;g++)i(g%(p*e.length))||v++;if(t){for(g=0;g<e.length*n;g++)f.push(g);f=pie().startAngle(s).endAngle(u).sort(function(e,t){return e-t}).value(1)(f)}for(g=0,b=0;g<e.length*n;g++){var w=(u(g)-s(g))/v,S=t?f[g]:{};S.index=g+a,S.note=e[S.index%e.length],S.frequency=h(S.index),i(S.index%(p*e.length))?(t||(S.startAngle=s(g)+w*(b-.5+.15),S.endAngle=s(g)+w*(b+.5-.15)),S.raised=!0,_.push(S),m.push(S)):(t||(S.startAngle=s(g)+b*w,S.endAngle=S.startAngle+w),S.raised=!1,y.push(S),m.push(S),b++)}return m}var t=!1,n=1,r=12,o=Pentatonic,i=void 0,s=constant(-Math.PI),a=48,l=32.70375,c=0,u=constant(Math.PI),h=void 0;return e.isRaised=function(t){return arguments.length&&(i="function"==typeof t?t:constant(t)),e},e.raisedPattern=function(t){return t&&t.length&&(o=t),e},e.octaves=function(t){return"number"==typeof t&&(n=t),e},e.startAngle=function(t){return arguments.length&&(s="function"==typeof t?t:constant(t)),e},e.frequency=function(t){return arguments.length&&(h="function"==typeof t?t:constant(t)),e},e.endAngle=function(t){return arguments.length&&(u="function"==typeof t?t:constant(t)),e},e.octaveSize=function(t){return"number"==typeof t&&(r=t),e},e.leftmostKey=function(t){return"number"==typeof t&&(a=t),e},e.baseTone=function(t){return"number"==typeof t&&(l=t),e},e.baseKey=function(t){return"number"==typeof t&&(c=t),e},e.pie=function(n){return"boolean"==typeof n&&(t=n),e},e},xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},matcher=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var element$1=document.documentElement;if(!element$1.matches){var vendorMatches=element$1.webkitMatchesSelector||element$1.msMatchesSelector||element$1.mozMatchesSelector||element$1.oMatchesSelector;matcher=function(e){return function(){return vendorMatches.call(this,e)}}}}var matcher$1=matcher,filterEvents={},event=null;if("undefined"!=typeof document){var element$2=document.documentElement;"onmouseenter"in element$2||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var keyPrefix="$";ClassList.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var root$1=[null];Selection.prototype=selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};var noop$2={value:function(){}};Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n,r=this._,o=parseTypenames$1(e+"",r),i=-1,s=o.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<s;)if(n=(e=o[i]).type)r[n]=set$3(r[n],e.name,t);else if(null==t)for(n in r)r[n]=set$3(r[n],e.name,null);return this}for(;++i<s;)if((n=(e=o[i]).type)&&(n=get$3(r[n],e.name)))return n}},copy:function e(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var frame=0,timeout=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock="object"===("undefined"==typeof performance?"undefined":_typeof(performance))&&performance.now?performance:Date,setFrame="function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){setTimeout(e,17)};Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?now():+n)+(null==t?0:+t),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=dispatch("start","end","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6,_darker=.7,_brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$2(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),define$2(Rgb,colorRgb,extend$1(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),define$2(Hsl,colorHsl,extend$1(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,r),hsl2rgb(e,o,r),hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var deg2rad=Math.PI/180,rad2deg=180/Math.PI,Kn=18,Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;define$2(Lab,lab,extend$1(Color,{brighter:function(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=1*lab2xyz(e),t=.95047*lab2xyz(t),n=1.08883*lab2xyz(n),new Rgb(xyz2rgb(3.2404542*t-1.5371385*e-.4985314*n),xyz2rgb(-.969266*t+1.8760108*e+.041556*n),xyz2rgb(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),define$2(Hcl,colorHcl,extend$1(Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return labConvert(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;define$2(Cubehelix,cubehelix,extend$1(Color,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*deg2rad,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new Rgb(255*(t+n*(A*r+B*o)),255*(t+n*(C*r+D*o)),255*(t+n*(E*r)),this.opacity)}}));var interpolateRgb=function e(t){function n(e,t){var n=r((e=colorRgb(e)).r,(t=colorRgb(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),s=nogamma(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=s(t),e+""}}var r=gamma(1);return n.gamma=e,n}(1),reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g"),degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},cssNode,cssRoot,cssView,svgNode,interpolateTransform$1=interpolateTransform(parseCss$1,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");cubehelix$1(hue);var cubehelixLong=cubehelix$1(nogamma),Selection$1=selection.prototype.constructor,id=0,selection_prototype=selection.prototype;Transition.prototype=transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease};var exponent=3,polyIn=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),polyOut=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),polyInOut=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),overshoot=1.70158,backIn=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),backOut=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),backInOut=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),tau$2=2*Math.PI,amplitude=1,period=.3,elasticIn=function e(t,n){function r(e){return t*Math.pow(2,10*--e)*Math.sin((o-e)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=tau$2);return r.amplitude=function(t){return e(t,n*tau$2)},r.period=function(n){return e(t,n)},r}(1,.3),elasticOut=function e(t,n){function r(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+o)/n)}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=tau$2);return r.amplitude=function(t){return e(t,n*tau$2)},r.period=function(n){return e(t,n)},r}(1,.3),elasticInOut=function e(t,n){function r(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((o-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((o+e)/n))/2}var o=Math.asin(1/(t=Math.max(1,t)))*(n/=tau$2);return r.amplitude=function(t){return e(t,n*tau$2)},r.period=function(n){return e(t,n)},r}(1,.3),defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};selection.prototype.interrupt=selection_interrupt,selection.prototype.transition=selection_transition;var LILSYNTH=Symbol(),css="all-around-keyboard {\n  display: block;\n  padding: 5px;\n}\n:host {\n  display: block;\n  padding: 5px;\n}\n.key {\n  stroke-width: 1.5px;\n}\n\n.key--lower { fill: white; stroke: #777;\n}\n.key--upper { fill: black; stroke: #000;\n}\n\n.key, .key--modulating {\n  transition: fill;\n  transition-duration: 1s;\n  transition-delay: 1s;\n  transition-timing-function: ease-in-out;\n}\n\n.key:not(.key--modulating) {\n  transition-delay: 0s !important;\n  transition-duration: 0.1s !important;\n}\n\n.key:not(.key--modulating).key--highlight, .key:not(.key--modulating).key--pressed {\n  transition-duration: 0s !important;\n}\n\n.key--pressed,\n.key--highlight.key--pressed.key--upper,\n.key--highlight.key--pressed.key--lower\n  { fill: deeppink; }\n\n.key--highlight {\n  stroke: rgba(0, 91, 255, 0.73);\n  stroke-width: 5.5px;\n}\n\n.key--highlight.key--lower { fill: rgb(215, 237, 249) }\n.key--highlight.key--upper { fill: #495b96 }\n",runtime=createCommonjsModule(function(e){!function(t){function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,s=Object.create(i.prototype),a=new p(r||[]);return s._invoke=c(e,n,a),s}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function s(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,o,i,s){var a=r(e[n],e,o);if("throw"!==a.type){var l=a.arg,c=l.value;return c&&"object"===(void 0===c?"undefined":_typeof(c))&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(c).then(function(e){l.value=e,i(l)},s)}s(a.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(e,t,n){var o="suspendedStart";return function(i,s){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw s;return m()}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var l=u(a,n);if(l){if(l===C)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=r(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===C)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function u(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,u(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,C;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,C):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function f(e){if(e){var t=e[g];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:m}}
function m(){return{value:void 0,done:!0}}var _=Object.prototype,y=_.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},g=v.iterator||"@@iterator",b=v.asyncIterator||"@@asyncIterator",w=v.toStringTag||"@@toStringTag",S="object"===(void 0===e?"undefined":_typeof(e)),E=t.regeneratorRuntime;if(E)return void(S&&(e.exports=E));E=t.regeneratorRuntime=S?e.exports:{},E.wrap=n;var C={},x={};x[g]=function(){return this};var N=Object.getPrototypeOf,k=N&&N(N(f([])));k&&k!==_&&y.call(k,g)&&(x=k);var T=s.prototype=o.prototype=Object.create(x);i.prototype=T.constructor=s,s.constructor=i,s[w]=i.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(T),e},E.awrap=function(e){return{__await:e}},a(l.prototype),l.prototype[b]=function(){return this},E.AsyncIterator=l,E.async=function(e,t,r,o){var i=new l(n(e,t,r,o));return E.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(T),T[w]="Generator",T[g]=function(){return this},T.toString=function(){return"[object Generator]"},E.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=f,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var s=y.call(o,"catchLoc"),a=y.call(o,"finallyLoc");if(s&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,C):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),C}}}(function(){return this}()||Function("return this")())});interopDefault(runtime);var setToArray=function(e){return[].concat(toConsumableArray(e))},KEYBOARD=Symbol(),KEYS=Symbol(),currentKeyPositions=Symbol(),shadowSVG=Symbol(),SVGStrokePadding=15,multiEmitter=function(e,t,n){return function(r){"number"==typeof r?r=[r]:"set"==typeof r&&(r=setToArray(r)),r.forEach(function(r){var o=new Event(t);o[n]=r,e.dispatchEvent(o)})}},KEYPRESS="keypress",KEYRELEASE="keyrelease",KEYLIGHT="keylight",KEYDIM="keydim",NOTELIGHT="notelight",NOTEDIM="notedim",HOVEROVER="touchstart mouseover",HOVEROUT="touchend mouseout mouseup",pressedKeys=Symbol(),litKeys=Symbol(),litNotes=Symbol(),KeyboardElement=customElements.define("all-around-keyboard",function(e){function t(){var e,n,r,o;classCallCheck(this,t);for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=r=possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.keysPress=multiEmitter(r,KEYPRESS,"index"),r.keysRelease=multiEmitter(r,KEYRELEASE,"index"),r.keysLight=multiEmitter(r,"keylight","index"),r.keysDim=multiEmitter(r,"keydim","index"),r.notesLight=multiEmitter(r,"notelight","note"),r.notesDim=multiEmitter(r,"notedim","note"),r.releaseAll=function(){this.keysRelease(this[pressedKeys])},r.dimAll=function(){this.keysDim(this[litKeys]),this.notesDim(this[litNotes])},o=n,possibleConstructorReturn(r,o)}return inherits(t,e),createClass(t,[{key:"connectedCallback",value:function(){var e=function(){var e=asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){function r(){n[KEYBOARD]?e(n[KEYBOARD]):window.requestAnimationFrame(r)}r()}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),setupLilSynth(this),this[pressedKeys]=new Set,this[litKeys]=new Set,this[litNotes]=new Set,this[currentKeyPositions]={};var n=this;this.addEventListener(KEYPRESS,function(){var t=asyncToGenerator(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r=t.sent,r.filter(function(e){return e.index==n.index}).classed("key--pressed",!0).dispatch(KEYPRESS),this[pressedKeys].add(n.index);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),this.addEventListener(KEYRELEASE,function(){var t=asyncToGenerator(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r=t.sent,r.filter(function(e){return e.index==n.index}).classed("key--pressed",!1).dispatch(KEYRELEASE),this[pressedKeys].delete(n.index);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),this.addEventListener("keylight",function(){var t=asyncToGenerator(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r=t.sent,r.filter(function(e){return e.index==n.index}).classed("key--highlight",!0).dispatch("keylight"),this[litKeys].add(n.index);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),this.addEventListener("keydim",function(){var t=asyncToGenerator(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r=t.sent,r.filter(function(e){return e.index==n.index}).classed("key--highlight",!1).dispatch("keydim"),this[litKeys].delete(n.index);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),this.addEventListener("notelight",function(){var t=asyncToGenerator(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r=t.sent,r.filter(function(e){return e.note==n.note}).classed("key--highlight",!0).dispatch("notelight"),this[litNotes].add(n.note);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),this.addEventListener("notedim",function(){var t=asyncToGenerator(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r=t.sent,r.filter(function(e){return e.note==n.note}).classed("key--highlight",!1).dispatch("notedim"),this[litNotes].delete(n.note);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())}},{key:"disconnectedCallback",value:function(){get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this)}},{key:"updatedCallback",value:function(e){return!e||(setupKeyboard.call(this),this.shadowRoot.children[1].innerText=css+this.keyStyle,!1)}},{key:"renderCallback",value:function(){return[h("div"),h("style",css+this.keyStyle)]}},{key:"renderedCallback",value:function(){this[shadowSVG]||(this[shadowSVG]=select(this.shadowRoot.children[0]).append("svg").attr("width","100%"),this[shadowSVG].append("g")),this.shadowRoot.children[0].appendChild(this[shadowSVG].node()),setupKeyboard.call(this)}}],[{key:"props",get:function(){return{notesInOctave:number({attribute:!0,default:12}),raisedNotes:array({attribute:!0,default:[1,3,6,8,10]}),octaves:number({attribute:!0,default:2}),sweep:number({attribute:!0,default:Math.PI/2,deserialize:function(e){return e*Math.PI/180},serialize:function(e){return 180*e/Math.PI}}),depth:number({attribute:!0,default:100}),width:number({attribute:!0,default:500}),overlapping:number({attribute:!0,default:.5}),pie:boolean({attribute:!0,default:!1}),synth:boolean({attribute:!0,default:!1}),transitionTime:number({attribute:!0,default:750}),baseTone:number({attribute:!0,default:32.70375}),baseKey:number({attribute:!0,default:0}),leftmostKey:number({attribute:!0,default:36}),keyStyle:string({attribute:!0})}}}]),t}(_class2));exports.KeyboardElement=KeyboardElement,exports.keyLayout=keyLayout,exports.KEYPRESS=KEYPRESS,exports.KEYRELEASE=KEYRELEASE,exports.KEYLIGHT="keylight",exports.KEYDIM="keydim",exports.NOTELIGHT="notelight",exports.NOTEDIM="notedim"}(this.window=this.window||{});